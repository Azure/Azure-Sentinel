{
    "version": "Notebook/1.0",
    "items": [
        {
            "type": 11,
            "content": {
                "version": "LinkItem/1.0",
                "style": "tabs",
                "links": [
                    {
                        "id": "156557ac-3688-4625-9405-496c6d3c4ee0",
                        "cellValue": "SelectedTab",
                        "linkTarget": "parameter",
                        "linkLabel": "Overview",
                        "subTarget": "Overview",
                        "preText": "Overview",
                        "style": "link"
                    },
                    {
                        "id": "17915693-5dfd-4bb3-ad78-4b012becf2ce",
                        "cellValue": "SelectedTab",
                        "linkTarget": "parameter",
                        "linkLabel": "Activity",
                        "subTarget": "Activity",
                        "style": "link"
                    },
                    {
                        "id": "fee66632-6572-466d-9461-63a7ccdabb61",
                        "cellValue": "SelectedTab",
                        "linkTarget": "parameter",
                        "linkLabel": "Billable Info",
                        "subTarget": "Billable Info",
                        "style": "link"
                    }
                ]
            },
            "name": "links - 1"
        },
        {
            "type": 1,
            "content": {
                "json": "When choosing a workspace you should choose the workspace you set the \"diagnostics settings\" to send your logs to. In some cases it could be a different workspace than your Azure Sentinel workspace.\r\nWhen moving between the \"Overview\" tab to \"Activity\" or \"Billable Info\" tab for the first time, press the \"Refresh\" button to get results.",
                "style": "info"
            },
            "name": "Diagnostics settings - help"
        },
        {
            "type": 9,
            "content": {
                "version": "KqlParameterItem/1.0",
                "crossComponentResources": ["{Subscription}"],
                "parameters": [
                    {
                        "id": "0e85e0e4-a7e8-4ea8-b291-e444c317843a",
                        "version": "KqlParameterItem/1.0",
                        "name": "ResourceTypes",
                        "label": "Resource types",
                        "type": 7,
                        "isRequired": true,
                        "multiSelect": true,
                        "quote": "'",
                        "delimiter": ",",
                        "value": ["microsoft.logic/workflows"],
                        "isHiddenWhenLocked": true,
                        "typeSettings": {
                            "additionalResourceOptions": [],
                            "includeAll": true
                        }
                    },
                    {
                        "id": "1f74ed9a-e3ed-498d-bd5b-f68f3836a117",
                        "version": "KqlParameterItem/1.0",
                        "name": "Subscription",
                        "label": "Subscriptions",
                        "type": 6,
                        "isRequired": true,
                        "multiSelect": true,
                        "quote": "'",
                        "delimiter": ",",
                        "query": "Resources\r\n| where type in~ ({ResourceTypes})\r\n| summarize Count = count() by subscriptionId\r\n| order by Count desc\r\n| extend Rank = row_number()\r\n| project value = subscriptionId, label = subscriptionId, selected = Rank == 1",
                        "crossComponentResources": ["value::selected"],
                        "typeSettings": {
                            "additionalResourceOptions": [],
                            "showDefault": false
                        },
                        "queryType": 1,
                        "resourceType": "microsoft.resourcegraph/resources"
                    },
                    {
                        "id": "173f251f-558e-415f-b5ca-f25cfa01f6ee",
                        "version": "KqlParameterItem/1.0",
                        "name": "Workspace",
                        "type": 5,
                        "isRequired": true,
                        "multiSelect": true,
                        "quote": "'",
                        "delimiter": ",",
                        "query": "where type =~ \"microsoft.operationalinsights/workspaces\"\r\n| project id",
                        "crossComponentResources": ["{Subscription}"],
                        "value": [""],
                        "typeSettings": {
                            "additionalResourceOptions": [],
                            "showDefault": false
                        },
                        "defaultValue": "value::1",
                        "queryType": 1,
                        "resourceType": "microsoft.resourcegraph/resources"
                    },
                    {
                        "id": "b616a3a3-4271-4208-b1a9-a92a78efed08",
                        "version": "KqlParameterItem/1.0",
                        "name": "ResourceGroups",
                        "label": "Resource groups",
                        "type": 2,
                        "isRequired": true,
                        "multiSelect": true,
                        "quote": "'",
                        "delimiter": ",",
                        "query": "Resources\r\n| where type in~ ({ResourceTypes})\r\n| summarize Count = count() by subscriptionId, resourceGroup\r\n| order by Count desc\r\n| extend Rank = row_number()\r\n| project value = strcat('/subscriptions/', subscriptionId, '/resourceGroups/', resourceGroup), label = resourceGroup, selected = false",
                        "crossComponentResources": ["{Subscription}"],
                        "value": [""],
                        "typeSettings": {
                            "additionalResourceOptions": [],
                            "showDefault": false
                        },
                        "queryType": 1,
                        "resourceType": "microsoft.resourcegraph/resources"
                    },
                    {
                        "id": "f60ea0a0-3703-44ca-a59b-df0246423f41",
                        "version": "KqlParameterItem/1.0",
                        "name": "Resources",
                        "label": "Logic Apps",
                        "type": 5,
                        "isRequired": true,
                        "multiSelect": true,
                        "quote": "'",
                        "delimiter": ",",
                        "query": "Resources\r\n| where type in~({ResourceTypes})\r\n| extend resourceGroupId = strcat('/subscriptions/', subscriptionId, '/resourceGroups/', resourceGroup)\r\n| where resourceGroupId in~({ResourceGroups}) or '*' in~({ResourceGroups})\r\n| order by name asc\r\n| extend Rank = row_number()\r\n| project value = id, label = tostring(name), selected = Rank <= 10, group = resourceGroup",
                        "crossComponentResources": ["{Subscription}"],
                        "value": [""],
                        "typeSettings": {
                            "additionalResourceOptions": [],
                            "showDefault": false
                        },
                        "queryType": 1,
                        "resourceType": "microsoft.resourcegraph/resources"
                    },
                    {
                        "id": "c0e1db28-a9e3-4f0d-b94d-a138d42b1cde",
                        "version": "KqlParameterItem/1.0",
                        "name": "TimeRange",
                        "type": 4,
                        "value": {
                            "durationMs": 259200000
                        },
                        "typeSettings": {
                            "selectableValues": [
                                {
                                    "durationMs": 300000
                                },
                                {
                                    "durationMs": 900000
                                },
                                {
                                    "durationMs": 1800000
                                },
                                {
                                    "durationMs": 3600000
                                },
                                {
                                    "durationMs": 14400000
                                },
                                {
                                    "durationMs": 43200000
                                },
                                {
                                    "durationMs": 86400000
                                },
                                {
                                    "durationMs": 172800000
                                },
                                {
                                    "durationMs": 259200000
                                },
                                {
                                    "durationMs": 604800000
                                },
                                {
                                    "durationMs": 1209600000
                                },
                                {
                                    "durationMs": 2419200000
                                },
                                {
                                    "durationMs": 2592000000
                                }
                            ],
                            "allowCustom": true
                        }
                    },
                    {
                        "id": "662c4900-ffcf-4bc3-903d-472a1cc6e9e9",
                        "version": "KqlParameterItem/1.0",
                        "name": "Help",
                        "label": "Show Help",
                        "type": 10,
                        "description": "This will show some help information, in order to better use this workbook",
                        "isRequired": true,
                        "typeSettings": {
                            "additionalResourceOptions": []
                        },
                        "jsonData": "[{ \"value\": \"Yes\", \"label\": \"Yes\"},\r\n {\"value\": \"No\", \"label\": \"No\", \"selected\":true }]",
                        "value": "Yes"
                    }
                ],
                "style": "above",
                "queryType": 1,
                "resourceType": "microsoft.resourcegraph/resources"
            },
            "name": "parameters - 0"
        },
        {
            "type": 12,
            "content": {
                "version": "NotebookGroup/1.0",
                "groupType": "editable",
                "items": [
                    {
                        "type": 1,
                        "content": {
                            "json": "#### Success and failure over time\r\n"
                        },
                        "conditionalVisibility": {
                            "parameterName": "SelectedTab",
                            "comparison": "isEqualTo",
                            "value": "Overview"
                        },
                        "name": "text - 4"
                    },
                    {
                        "type": 1,
                        "content": {
                            "json": "\r\nIn this section, you will be able to drill down through \"time brushing\" a period of time in the line chart.  "
                        },
                        "conditionalVisibilities": [
                            {
                                "parameterName": "SelectedTab",
                                "comparison": "isEqualTo",
                                "value": "Overview"
                            },
                            {
                                "parameterName": "Help",
                                "comparison": "isEqualTo",
                                "value": "Yes"
                            }
                        ],
                        "name": "text - 4 - Copy"
                    },
                    {
                        "type": 3,
                        "content": {
                            "version": "KqlItem/1.0",
                            "query": "let isResouceMatch=(ResourceToMatch:string){\r\n    let resourceGroupsText = strcat_array(dynamic([{ResourceGroups}]),\",\");\r\n    iff(strcat(\"\",{ResourceGroups}) has \"*\",true, resourceGroupsText contains strcat(\"/resourceGroups/\",tolower(ResourceToMatch)))\r\n};\r\nlet isLAMatch=(LAToMatch:string){\r\n    let LAGroupsText = strcat_array(dynamic([{Resources}]),\",\");\r\n    iff(strcat(\"\",{Resources}) has \"*\",true, LAGroupsText contains strcat(\"/workflows/\",tolower(LAToMatch)))\r\n};\r\nAzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.LOGIC\" and isResouceMatch(ResourceGroup)==true\r\n| where OperationName == \"Microsoft.Logic/workflows/workflowRunCompleted\"\r\n| where isLAMatch(resource_workflowName_s) == true\r\n| summarize count () by status_s\r\n",
                            "size": 0,
                            "timeContext": {
                                "durationMs": 604800000
                            },
                            "timeContextFromParameter": "TimeRange",
                            "exportFieldName": "status_s",
                            "exportParameterName": "Status",
                            "exportDefaultValue": "All",
                            "queryType": 0,
                            "resourceType": "microsoft.operationalinsights/workspaces",
                            "crossComponentResources": ["{Workspace}"],
                            "visualization": "piechart",
                            "chartSettings": {
                                "seriesLabelSettings": [
                                    {
                                        "seriesName": "Failed",
                                        "color": "red"
                                    },
                                    {
                                        "seriesName": "Succeeded",
                                        "color": "green"
                                    }
                                ]
                            }
                        },
                        "customWidth": "25",
                        "name": "query - 1"
                    },
                    {
                        "type": 3,
                        "content": {
                            "version": "KqlItem/1.0",
                            "query": "let isResouceMatch=(ResourceToMatch:string){\r\n    let resourceGroupsText = strcat_array(dynamic([{ResourceGroups}]),\",\");\r\n    iff(strcat(\"\",{ResourceGroups}) has \"*\",true, resourceGroupsText contains strcat(\"/resourceGroups/\",tolower(ResourceToMatch)))\r\n};\r\nlet isLAMatch=(LAToMatch:string){\r\n    let LAGroupsText = strcat_array(dynamic([{Resources}]),\",\");\r\n    iff(strcat(\"\",{Resources}) has \"*\",true, LAGroupsText contains strcat(\"/workflows/\",tolower(LAToMatch)))\r\n};\r\nAzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.LOGIC\" and isResouceMatch(ResourceGroup)==true\r\n| where OperationName == \"Microsoft.Logic/workflows/workflowRunCompleted\"\r\n| where isLAMatch(resource_workflowName_s) == true\r\n| summarize count() by status_s , bin(TimeGenerated, 1h)\r\n",
                            "size": 0,
                            "timeContext": {
                                "durationMs": 604800000
                            },
                            "timeContextFromParameter": "TimeRange",
                            "timeBrushParameterName": "TimeBrush",
                            "queryType": 0,
                            "resourceType": "microsoft.operationalinsights/workspaces",
                            "crossComponentResources": ["{Workspace}"],
                            "visualization": "linechart",
                            "gridSettings": {
                                "sortBy": [
                                    {
                                        "itemKey": "resource_workflowName_s",
                                        "sortOrder": 2
                                    }
                                ]
                            },
                            "sortBy": [
                                {
                                    "itemKey": "resource_workflowName_s",
                                    "sortOrder": 2
                                }
                            ],
                            "chartSettings": {
                                "seriesLabelSettings": [
                                    {
                                        "seriesName": "Failed",
                                        "color": "red"
                                    },
                                    {
                                        "seriesName": "Succeeded",
                                        "color": "green"
                                    }
                                ]
                            }
                        },
                        "customWidth": "75",
                        "name": "query - 9"
                    },
                    {
                        "type": 1,
                        "content": {
                            "json": "#### Failure percentage per Logic App"
                        },
                        "conditionalVisibility": {
                            "parameterName": "SelectedTab",
                            "comparison": "isEqualTo",
                            "value": "Overview"
                        },
                        "name": "Failure percentage"
                    },
                    {
                        "type": 1,
                        "content": {
                            "json": "\r\nIn this section you will be able to view built-in metrics. Failure percentage per Logic App, Run started, Run completed and Latency (Duration run time). "
                        },
                        "conditionalVisibilities": [
                            {
                                "parameterName": "SelectedTab",
                                "comparison": "isEqualTo",
                                "value": "Overview"
                            },
                            {
                                "parameterName": "Help",
                                "comparison": "isEqualTo",
                                "value": "Yes"
                            }
                        ],
                        "name": "Failure percentage - Copy"
                    },
                    {
                        "type": 10,
                        "content": {
                            "chartId": "workbook38db0649-04fa-44d8-bb1b-ef4c90fb131f",
                            "version": "MetricsItem/2.0",
                            "size": 0,
                            "chartType": 0,
                            "resourceType": "microsoft.logic/workflows",
                            "metricScope": 0,
                            "resourceParameter": "Resources",
                            "resourceIds": ["{Resources}"],
                            "timeContextFromParameter": "TimeBrush",
                            "timeContext": {
                                "durationMs": 0
                            },
                            "metrics": [
                                {
                                    "namespace": "microsoft.logic/workflows",
                                    "metric": "microsoft.logic/workflows--RunFailurePercentage",
                                    "aggregation": 1
                                },
                                {
                                    "namespace": "microsoft.logic/workflows",
                                    "metric": "microsoft.logic/workflows--RunsStarted",
                                    "aggregation": 1
                                },
                                {
                                    "namespace": "microsoft.logic/workflows",
                                    "metric": "microsoft.logic/workflows--RunsCompleted",
                                    "aggregation": 1
                                },
                                {
                                    "namespace": "microsoft.logic/workflows",
                                    "metric": "microsoft.logic/workflows--RunLatency",
                                    "aggregation": 4
                                },
                                {
                                    "namespace": "microsoft.logic/workflows",
                                    "metric": "microsoft.logic/workflows--RunsSucceeded",
                                    "aggregation": 1
                                }
                            ],
                            "gridSettings": {
                                "formatters": [
                                    {
                                        "columnMatch": "Subscription",
                                        "formatter": 15,
                                        "formatOptions": {
                                            "linkTarget": null,
                                            "showIcon": true
                                        }
                                    },
                                    {
                                        "columnMatch": "Name",
                                        "formatter": 13,
                                        "formatOptions": {
                                            "linkTarget": "Resource",
                                            "showIcon": true
                                        }
                                    },
                                    {
                                        "columnMatch": "microsoft.logic/workflows--RunFailurePercentage",
                                        "formatter": 8,
                                        "formatOptions": {
                                            "min": 10,
                                            "max": 85,
                                            "palette": "greenRed"
                                        },
                                        "numberFormat": {
                                            "unit": 1,
                                            "options": {
                                                "style": "decimal",
                                                "useGrouping": false
                                            }
                                        }
                                    },
                                    {
                                        "columnMatch": "microsoft.logic/workflows--RunFailurePercentage Timeline",
                                        "formatter": 21,
                                        "formatOptions": {
                                            "palette": "redBright"
                                        }
                                    },
                                    {
                                        "columnMatch": "microsoft.logic/workflows--RunsStarted",
                                        "formatter": 8,
                                        "formatOptions": {
                                            "palette": "blue"
                                        },
                                        "numberFormat": {
                                            "unit": 0,
                                            "options": {
                                                "style": "decimal",
                                                "useGrouping": false
                                            }
                                        }
                                    },
                                    {
                                        "columnMatch": "microsoft.logic/workflows--RunsStarted Timeline",
                                        "formatter": 5
                                    },
                                    {
                                        "columnMatch": "microsoft.logic/workflows--RunsCompleted",
                                        "formatter": 8,
                                        "formatOptions": {
                                            "palette": "blue"
                                        },
                                        "numberFormat": {
                                            "unit": 0,
                                            "options": {
                                                "style": "decimal",
                                                "useGrouping": false
                                            }
                                        }
                                    },
                                    {
                                        "columnMatch": "microsoft.logic/workflows--RunsCompleted Timeline",
                                        "formatter": 5
                                    },
                                    {
                                        "columnMatch": "microsoft.logic/workflows--RunLatency",
                                        "formatter": 8,
                                        "formatOptions": {
                                            "palette": "greenRed"
                                        },
                                        "numberFormat": {
                                            "unit": 24,
                                            "options": {
                                                "style": "decimal"
                                            }
                                        }
                                    },
                                    {
                                        "columnMatch": "microsoft.logic/workflows--RunLatency Timeline",
                                        "formatter": 5
                                    },
                                    {
                                        "columnMatch": "microsoft.logic/workflows--RunsSucceeded",
                                        "formatter": 8,
                                        "formatOptions": {
                                            "palette": "green"
                                        },
                                        "numberFormat": {
                                            "unit": 0,
                                            "options": {
                                                "style": "decimal",
                                                "useGrouping": false
                                            }
                                        }
                                    },
                                    {
                                        "columnMatch": "microsoft.logic/workflows--RunsSucceeded Timeline",
                                        "formatter": 21,
                                        "formatOptions": {
                                            "palette": "green"
                                        }
                                    },
                                    {
                                        "columnMatch": "microsoft.logic/workflows--RunSuccessLatency",
                                        "formatter": 8,
                                        "formatOptions": {
                                            "palette": "greenRed"
                                        },
                                        "numberFormat": {
                                            "unit": 24,
                                            "options": {
                                                "style": "decimal"
                                            }
                                        }
                                    },
                                    {
                                        "columnMatch": "microsoft.logic/workflows--RunSuccessLatency Timeline",
                                        "formatter": 5
                                    },
                                    {
                                        "columnMatch": "microsoft.logic/workflows--TotalBillableExecutions",
                                        "formatter": 8,
                                        "formatOptions": {
                                            "palette": "blue"
                                        },
                                        "numberFormat": {
                                            "unit": 0,
                                            "options": {
                                                "style": "decimal"
                                            }
                                        }
                                    },
                                    {
                                        "columnMatch": "microsoft.logic/workflows--TotalBillableExecutions Timeline",
                                        "formatter": 5
                                    }
                                ],
                                "rowLimit": 10000,
                                "sortBy": [
                                    {
                                        "itemKey": "$gen_heatmap_microsoft.logic/workflows--RunsStarted_4",
                                        "sortOrder": 2
                                    }
                                ],
                                "labelSettings": [
                                    {
                                        "columnId": "microsoft.logic/workflows--RunFailurePercentage",
                                        "label": "Run Failure Percentage (Sum)"
                                    },
                                    {
                                        "columnId": "microsoft.logic/workflows--RunFailurePercentage Timeline",
                                        "label": "Run Failure Percentage Timeline"
                                    },
                                    {
                                        "columnId": "microsoft.logic/workflows--RunsStarted",
                                        "label": "Runs Started (Sum)"
                                    },
                                    {
                                        "columnId": "microsoft.logic/workflows--RunsStarted Timeline",
                                        "label": "Runs Started Timeline"
                                    },
                                    {
                                        "columnId": "microsoft.logic/workflows--RunsCompleted",
                                        "label": "Runs Completed (Sum)"
                                    },
                                    {
                                        "columnId": "microsoft.logic/workflows--RunsCompleted Timeline",
                                        "label": "Runs Completed Timeline"
                                    },
                                    {
                                        "columnId": "microsoft.logic/workflows--RunLatency",
                                        "label": "Run Latency (Average)"
                                    },
                                    {
                                        "columnId": "microsoft.logic/workflows--RunLatency Timeline",
                                        "label": "Run Latency Timeline"
                                    },
                                    {
                                        "columnId": "microsoft.logic/workflows--RunsSucceeded",
                                        "label": "Runs Succeeded (Sum)"
                                    },
                                    {
                                        "columnId": "microsoft.logic/workflows--RunsSucceeded Timeline",
                                        "label": "Runs Succeeded Timeline"
                                    }
                                ]
                            },
                            "sortBy": [
                                {
                                    "itemKey": "$gen_heatmap_microsoft.logic/workflows--RunsStarted_4",
                                    "sortOrder": 2
                                }
                            ],
                            "showExportToExcel": true
                        },
                        "name": "metric - 2"
                    },
                    {
                        "type": 12,
                        "content": {
                            "version": "NotebookGroup/1.0",
                            "groupType": "editable",
                            "items": [
                                {
                                    "type": 1,
                                    "content": {
                                        "json": "#### Logic Apps by status\r\n"
                                    },
                                    "conditionalVisibility": {
                                        "parameterName": "SelectedTab",
                                        "comparison": "isEqualTo",
                                        "value": "Overview"
                                    },
                                    "name": "text - 8"
                                },
                                {
                                    "type": 1,
                                    "content": {
                                        "json": "In this section by clicking one of the statuses, you can drill down to view Logic Apps by status. After choosing a specific Logic App you can then filter and view the status of the Logic Apps' trigger and actions."
                                    },
                                    "name": "text - 8 - Copy"
                                },
                                {
                                    "type": 3,
                                    "content": {
                                        "version": "KqlItem/1.0",
                                        "query": "let isResouceMatch=(ResourceToMatch:string){\r\n    let resourceGroupsText = strcat_array(dynamic([{ResourceGroups}]),\",\");\r\n    iff(strcat(\"\",{ResourceGroups}) has \"*\",true, resourceGroupsText contains strcat(\"/resourceGroups/\",tolower(ResourceToMatch)))\r\n};\r\nlet isLAMatch=(LAToMatch:string){\r\n    let LAGroupsText = strcat_array(dynamic([{Resources}]),\",\");\r\n    iff(strcat(\"\",{Resources}) has \"*\",true, LAGroupsText contains strcat(\"/workflows/\",tolower(LAToMatch)))\r\n};\r\n\r\nAzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.LOGIC\" and isResouceMatch(ResourceGroup) == true \r\n| where OperationName startswith \"Microsoft.Logic/workflows/workflowRun\" and isLAMatch(resource_workflowName_s) == true\r\n| make-series Trend = count() on TimeGenerated from {TimeRange:start} to {TimeRange:end} step {TimeRange:grain} by status_s\r\n|join(\r\nAzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.LOGIC\" and isResouceMatch(ResourceGroup) == true\r\n| where OperationName startswith \"Microsoft.Logic/workflows/workflowRun\" and isLAMatch(resource_workflowName_s) == true\r\n| summarize count() by status_s\r\n) on status_s\r\n| where status_s != \"Running\"\r\n| order by status_s asc, count_\r\n| project status_s,Trend, count_\r\n\r\n\r\n\r\n\r\n\r\n",
                                        "size": 1,
                                        "showAnalytics": true,
                                        "timeContext": {
                                            "durationMs": 0
                                        },
                                        "timeContextFromParameter": "TimeBrush",
                                        "exportFieldName": "status_s",
                                        "exportParameterName": "Status",
                                        "exportDefaultValue": "All",
                                        "queryType": 0,
                                        "resourceType": "microsoft.operationalinsights/workspaces",
                                        "crossComponentResources": ["{Workspace}"],
                                        "visualization": "tiles",
                                        "tileSettings": {
                                            "titleContent": {
                                                "columnMatch": "status_s",
                                                "formatter": 18,
                                                "formatOptions": {
                                                    "thresholdsOptions": "icons",
                                                    "thresholdsGrid": [
                                                        {
                                                            "operator": "==",
                                                            "thresholdValue": "Failed",
                                                            "representation": "failed",
                                                            "text": "{0}{1}"
                                                        },
                                                        {
                                                            "operator": "==",
                                                            "thresholdValue": "Running",
                                                            "representation": "pending",
                                                            "text": "{0}{1}"
                                                        },
                                                        {
                                                            "operator": "==",
                                                            "thresholdValue": "Succeeded",
                                                            "representation": "success",
                                                            "text": "{0}{1}"
                                                        },
                                                        {
                                                            "operator": "Default",
                                                            "thresholdValue": null,
                                                            "representation": null,
                                                            "text": "{0}{1}"
                                                        }
                                                    ]
                                                }
                                            },
                                            "leftContent": {
                                                "columnMatch": "count_",
                                                "formatter": 18,
                                                "formatOptions": {
                                                    "thresholdsOptions": "icons",
                                                    "thresholdsGrid": [
                                                        {
                                                            "operator": "Default",
                                                            "thresholdValue": null,
                                                            "representation": "Blank",
                                                            "text": "{0}{1}"
                                                        }
                                                    ]
                                                },
                                                "numberFormat": {
                                                    "unit": 17,
                                                    "options": {
                                                        "style": "decimal",
                                                        "useGrouping": false,
                                                        "maximumFractionDigits": 2,
                                                        "maximumSignificantDigits": 3
                                                    }
                                                }
                                            },
                                            "secondaryContent": {
                                                "columnMatch": "Trend",
                                                "formatter": 10,
                                                "formatOptions": {
                                                    "palette": "blue"
                                                }
                                            },
                                            "showBorder": false
                                        }
                                    },
                                    "name": "query - 13"
                                },
                                {
                                    "type": 1,
                                    "content": {
                                        "json": "#### Logic Apps by status\r\n"
                                    },
                                    "conditionalVisibility": {
                                        "parameterName": "SelectedTab",
                                        "comparison": "isEqualTo",
                                        "value": "Overview"
                                    },
                                    "name": "Overview - Activities - Copy - Copy"
                                },
                                {
                                    "type": 1,
                                    "content": {
                                        "json": "After clicking a specific Logic App you can then filter and view the status of the Logic Apps' trigger and actions."
                                    },
                                    "name": "Overview - Activities - Copy - Copy - Copy"
                                },
                                {
                                    "type": 3,
                                    "content": {
                                        "version": "KqlItem/1.0",
                                        "query": "let isResouceMatch=(ResourceToMatch:string){\r\n    let resourceGroupsText = strcat_array(dynamic([{ResourceGroups}]),\",\");\r\n    iff(strcat(\"\",{ResourceGroups}) has \"*\",true, resourceGroupsText contains strcat(\"/resourceGroups/\",tolower(ResourceToMatch)))\r\n};\r\nlet isLAMatch=(LAToMatch:string){\r\n    let LAGroupsText = strcat_array(dynamic([{Resources}]),\",\");\r\n    iff(strcat(\"\",{Resources}) has \"*\",true, LAGroupsText contains strcat(\"/workflows/\",tolower(LAToMatch)))\r\n};\r\n\r\nAzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.LOGIC\" and isResouceMatch(ResourceGroup) == true \r\n| where OperationName startswith \"Microsoft.Logic/workflows/workflowRunCompleted\" and isLAMatch(resource_workflowName_s) == true\r\n| where status_s =='{Status}' or '{Status}' =='All'\r\n| make-series Trend = count() on TimeGenerated from {TimeRange:start} to {TimeRange:end} step {TimeRange:grain} by resource_workflowName_s, status_s, error_code_s\r\n|join(\r\nAzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.LOGIC\" and isResouceMatch(ResourceGroup) == true \r\n| where OperationName startswith \"Microsoft.Logic/workflows/workflowRunCompleted\" and isLAMatch(resource_workflowName_s) == true\r\n| where status_s =='{Status}' or '{Status}' =='All'\r\n| summarize count() by resource_workflowName_s, status_s, error_code_s,ResourceGroup\r\n) on resource_workflowName_s, status_s\r\n| order by status_s asc, count_\r\n| project ResourceGroup, LogicApp = resource_workflowName_s, Status =status_s, Count = count_, Trend, Error = error_code_s\r\n\r\n\r\n",
                                        "size": 1,
                                        "showAnalytics": true,
                                        "timeContext": {
                                            "durationMs": 0
                                        },
                                        "timeContextFromParameter": "TimeBrush",
                                        "exportFieldName": "LogicApp",
                                        "exportParameterName": "Logic",
                                        "exportDefaultValue": "All",
                                        "showExportToExcel": true,
                                        "queryType": 0,
                                        "resourceType": "microsoft.operationalinsights/workspaces",
                                        "crossComponentResources": ["{Workspace}"],
                                        "visualization": "table",
                                        "gridSettings": {
                                            "formatters": [
                                                {
                                                    "columnMatch": "LogicApp",
                                                    "formatter": 13,
                                                    "formatOptions": {
                                                        "linkColumn": "LogicApp",
                                                        "linkTarget": "Resource",
                                                        "linkIsContextBlade": true,
                                                        "showIcon": true
                                                    }
                                                },
                                                {
                                                    "columnMatch": "Status",
                                                    "formatter": 18,
                                                    "formatOptions": {
                                                        "thresholdsOptions": "icons",
                                                        "thresholdsGrid": [
                                                            {
                                                                "operator": "==",
                                                                "thresholdValue": "Succedded",
                                                                "representation": "success",
                                                                "text": "{0}{1}"
                                                            },
                                                            {
                                                                "operator": "==",
                                                                "thresholdValue": "Failed",
                                                                "representation": "failed",
                                                                "text": "{0}{1}"
                                                            },
                                                            {
                                                                "operator": "==",
                                                                "thresholdValue": "Skipped",
                                                                "representation": "pending",
                                                                "text": "{0}{1}"
                                                            },
                                                            {
                                                                "operator": "==",
                                                                "thresholdValue": "Running",
                                                                "representation": "1",
                                                                "text": "{0}{1}"
                                                            },
                                                            {
                                                                "operator": "Default",
                                                                "thresholdValue": null,
                                                                "representation": "success",
                                                                "text": "{0}{1}"
                                                            }
                                                        ]
                                                    }
                                                },
                                                {
                                                    "columnMatch": "Trend",
                                                    "formatter": 10,
                                                    "formatOptions": {
                                                        "palette": "blue"
                                                    }
                                                },
                                                {
                                                    "columnMatch": "Count",
                                                    "formatter": 8,
                                                    "formatOptions": {
                                                        "palette": "gray"
                                                    }
                                                },
                                                {
                                                    "columnMatch": "status_s",
                                                    "formatter": 18,
                                                    "formatOptions": {
                                                        "thresholdsOptions": "icons",
                                                        "thresholdsGrid": [
                                                            {
                                                                "operator": "==",
                                                                "thresholdValue": "Succedded",
                                                                "representation": "success",
                                                                "text": "{0}{1}"
                                                            },
                                                            {
                                                                "operator": "==",
                                                                "thresholdValue": "Failed",
                                                                "representation": "failed",
                                                                "text": "{0}{1}"
                                                            },
                                                            {
                                                                "operator": "==",
                                                                "thresholdValue": "Skipped",
                                                                "representation": "pending",
                                                                "text": "{0}{1}"
                                                            },
                                                            {
                                                                "operator": "==",
                                                                "thresholdValue": "Running",
                                                                "representation": "1",
                                                                "text": "{0}{1}"
                                                            },
                                                            {
                                                                "operator": "Default",
                                                                "thresholdValue": null,
                                                                "representation": "success",
                                                                "text": "{0}{1}"
                                                            }
                                                        ]
                                                    }
                                                },
                                                {
                                                    "columnMatch": "TimeGenerated",
                                                    "formatter": 21,
                                                    "formatOptions": {
                                                        "palette": "blue"
                                                    }
                                                },
                                                {
                                                    "columnMatch": "count_",
                                                    "formatter": 8,
                                                    "formatOptions": {
                                                        "palette": "gray"
                                                    },
                                                    "numberFormat": {
                                                        "unit": 0,
                                                        "options": {
                                                            "style": "decimal",
                                                            "useGrouping": false
                                                        }
                                                    }
                                                }
                                            ],
                                            "filter": true
                                        },
                                        "sortBy": [],
                                        "tileSettings": {
                                            "titleContent": {
                                                "columnMatch": "Action",
                                                "formatter": 1
                                            },
                                            "leftContent": {
                                                "columnMatch": "status_s",
                                                "formatter": 12,
                                                "formatOptions": {
                                                    "palette": "greenRed"
                                                },
                                                "numberFormat": {
                                                    "unit": 17,
                                                    "options": {
                                                        "style": "decimal",
                                                        "useGrouping": false,
                                                        "maximumFractionDigits": 2,
                                                        "maximumSignificantDigits": 3
                                                    }
                                                }
                                            },
                                            "showBorder": false
                                        },
                                        "chartSettings": {
                                            "xAxis": "Resource",
                                            "yAxis": ["status_s", "Trend"],
                                            "group": "status_s",
                                            "createOtherGroup": 50,
                                            "showLegend": true,
                                            "xSettings": {
                                                "numberFormatSettings": {
                                                    "unit": 17,
                                                    "options": {
                                                        "style": "decimal",
                                                        "useGrouping": true
                                                    }
                                                }
                                            },
                                            "ySettings": {
                                                "numberFormatSettings": {
                                                    "unit": 17,
                                                    "options": {
                                                        "style": "decimal",
                                                        "useGrouping": true
                                                    }
                                                }
                                            }
                                        }
                                    },
                                    "name": "query - 3"
                                },
                                {
                                    "type": 1,
                                    "content": {
                                        "json": "#### Logic Apps' Trigger by status"
                                    },
                                    "conditionalVisibility": {
                                        "parameterName": "SelectedTab",
                                        "comparison": "isEqualTo",
                                        "value": "Overview"
                                    },
                                    "name": "Overview - Activities - Copy - Copy - Copy"
                                },
                                {
                                    "type": 3,
                                    "content": {
                                        "version": "KqlItem/1.0",
                                        "query": "let isResouceMatch=(ResourceToMatch:string){\r\n    let resourceGroupsText = strcat_array(dynamic([{ResourceGroups}]),\",\");\r\n    iff(strcat(\"\",{ResourceGroups}) has \"*\",true, resourceGroupsText contains strcat(\"/resourceGroups/\",tolower(ResourceToMatch)))\r\n};\r\nlet isLAMatch=(LAToMatch:string){\r\n    let LAGroupsText = strcat_array(dynamic([{Resources}]),\",\");\r\n    iff(strcat(\"\",{Resources}) has \"*\",true, LAGroupsText contains strcat(\"/workflows/\",tolower(LAToMatch)))\r\n};\r\n\r\nAzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.LOGIC\" and isResouceMatch(ResourceGroup) == true \r\n| where OperationName startswith \"Microsoft.Logic/workflows/workflowTrigger\" and isLAMatch(resource_workflowName_s) == true\r\n| where resource_workflowName_s =='{Logic}' or '{Logic}' =='All'\r\n| make-series Trend = count() on TimeGenerated from {TimeBrush:start} to {TimeBrush:end} step {TimeBrush:grain} by resource_triggerName_s, status_s, resource_workflowName_s\r\n|join(\r\nAzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.LOGIC\" and isResouceMatch(ResourceGroup) == true \r\n| where OperationName startswith \"Microsoft.Logic/workflows/workflowTrigger\" and isLAMatch(resource_workflowName_s) == true\r\n| summarize count() by resource_triggerName_s, status_s, resource_workflowName_s\r\n) on resource_triggerName_s, status_s, resource_workflowName_s\r\n| order by status_s asc, count_\r\n| where status_s != \"Running\" \r\n| project Trigger = resource_triggerName_s,LogicAppName = resource_workflowName_s,Status =status_s, Count = count_,Trend",
                                        "size": 1,
                                        "showAnalytics": true,
                                        "timeContext": {
                                            "durationMs": 0
                                        },
                                        "timeContextFromParameter": "TimeBrush",
                                        "exportFieldName": "status_s",
                                        "exportParameterName": "Status",
                                        "exportDefaultValue": "All",
                                        "showExportToExcel": true,
                                        "queryType": 0,
                                        "resourceType": "microsoft.operationalinsights/workspaces",
                                        "crossComponentResources": ["{Workspace}"],
                                        "visualization": "table",
                                        "gridSettings": {
                                            "formatters": [
                                                {
                                                    "columnMatch": "Status",
                                                    "formatter": 18,
                                                    "formatOptions": {
                                                        "thresholdsOptions": "icons",
                                                        "thresholdsGrid": [
                                                            {
                                                                "operator": "==",
                                                                "thresholdValue": "Succeeded",
                                                                "representation": "success",
                                                                "text": "{0}{1}"
                                                            },
                                                            {
                                                                "operator": "==",
                                                                "thresholdValue": "Failed",
                                                                "representation": "failed",
                                                                "text": "{0}{1}"
                                                            },
                                                            {
                                                                "operator": "==",
                                                                "thresholdValue": "Skipped",
                                                                "representation": "1",
                                                                "text": "{0}{1}"
                                                            },
                                                            {
                                                                "operator": "==",
                                                                "thresholdValue": "Running",
                                                                "representation": "pending",
                                                                "text": "{0}{1}"
                                                            },
                                                            {
                                                                "operator": "Default",
                                                                "thresholdValue": null,
                                                                "representation": "more",
                                                                "text": "{0}{1}"
                                                            }
                                                        ]
                                                    }
                                                },
                                                {
                                                    "columnMatch": "Count",
                                                    "formatter": 8,
                                                    "formatOptions": {
                                                        "palette": "gray"
                                                    }
                                                },
                                                {
                                                    "columnMatch": "Trend",
                                                    "formatter": 10,
                                                    "formatOptions": {
                                                        "palette": "blue"
                                                    }
                                                },
                                                {
                                                    "columnMatch": "status_s",
                                                    "formatter": 18,
                                                    "formatOptions": {
                                                        "thresholdsOptions": "icons",
                                                        "thresholdsGrid": [
                                                            {
                                                                "operator": "==",
                                                                "thresholdValue": "Succedded",
                                                                "representation": "success",
                                                                "text": "{0}{1}"
                                                            },
                                                            {
                                                                "operator": "==",
                                                                "thresholdValue": "Failed",
                                                                "representation": "failed",
                                                                "text": "{0}{1}"
                                                            },
                                                            {
                                                                "operator": "==",
                                                                "thresholdValue": "Skipped",
                                                                "representation": "1",
                                                                "text": "{0}{1}"
                                                            },
                                                            {
                                                                "operator": "==",
                                                                "thresholdValue": "Running",
                                                                "representation": "pending",
                                                                "text": "{0}{1}"
                                                            },
                                                            {
                                                                "operator": "Default",
                                                                "thresholdValue": null,
                                                                "representation": "success",
                                                                "text": "{0}{1}"
                                                            }
                                                        ]
                                                    }
                                                },
                                                {
                                                    "columnMatch": "TimeGenerated",
                                                    "formatter": 21,
                                                    "formatOptions": {
                                                        "palette": "blue"
                                                    }
                                                },
                                                {
                                                    "columnMatch": "count_",
                                                    "formatter": 8,
                                                    "formatOptions": {
                                                        "palette": "greenRed"
                                                    },
                                                    "numberFormat": {
                                                        "unit": 0,
                                                        "options": {
                                                            "style": "decimal",
                                                            "useGrouping": false
                                                        }
                                                    }
                                                }
                                            ],
                                            "filter": true
                                        },
                                        "sortBy": [],
                                        "tileSettings": {
                                            "titleContent": {
                                                "columnMatch": "Action",
                                                "formatter": 1
                                            },
                                            "leftContent": {
                                                "columnMatch": "status_s",
                                                "formatter": 12,
                                                "formatOptions": {
                                                    "palette": "greenRed"
                                                },
                                                "numberFormat": {
                                                    "unit": 17,
                                                    "options": {
                                                        "style": "decimal",
                                                        "useGrouping": false,
                                                        "maximumFractionDigits": 2,
                                                        "maximumSignificantDigits": 3
                                                    }
                                                }
                                            },
                                            "showBorder": false
                                        },
                                        "chartSettings": {
                                            "xAxis": "Resource",
                                            "yAxis": ["status_s", "Trend"],
                                            "group": "status_s",
                                            "createOtherGroup": 50,
                                            "showLegend": true,
                                            "xSettings": {
                                                "numberFormatSettings": {
                                                    "unit": 17,
                                                    "options": {
                                                        "style": "decimal",
                                                        "useGrouping": true
                                                    }
                                                }
                                            },
                                            "ySettings": {
                                                "numberFormatSettings": {
                                                    "unit": 17,
                                                    "options": {
                                                        "style": "decimal",
                                                        "useGrouping": true
                                                    }
                                                }
                                            }
                                        }
                                    },
                                    "name": "query - 3 - Copy"
                                },
                                {
                                    "type": 1,
                                    "content": {
                                        "json": "#### Logic Apps' Action by status"
                                    },
                                    "conditionalVisibility": {
                                        "parameterName": "SelectedTab",
                                        "comparison": "isEqualTo",
                                        "value": "Overview"
                                    },
                                    "name": "Overview - Activities - Copy"
                                },
                                {
                                    "type": 3,
                                    "content": {
                                        "version": "KqlItem/1.0",
                                        "query": "let isResouceMatch=(ResourceToMatch:string){\r\n    let resourceGroupsText = strcat_array(dynamic([{ResourceGroups}]),\",\");\r\n    iff(strcat(\"\",{ResourceGroups}) has \"*\",true, resourceGroupsText contains strcat(\"/resourceGroups/\",tolower(ResourceToMatch)))\r\n};\r\nlet isLAMatch=(LAToMatch:string){\r\n    let LAGroupsText = strcat_array(dynamic([{Resources}]),\",\");\r\n    iff(strcat(\"\",{Resources}) has \"*\",true, LAGroupsText contains strcat(\"/workflows/\",tolower(LAToMatch)))\r\n};\r\n\r\nAzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.LOGIC\" and isResouceMatch(ResourceGroup) == true \r\n| where OperationName startswith \"Microsoft.Logic/workflows/workflowAction\" and isLAMatch(resource_workflowName_s) == true\r\n| where resource_workflowName_s =='{Logic}' or '{Logic}' =='All'\r\n| make-series Trend = count() on TimeGenerated from {TimeBrush:start} to {TimeBrush:end} step {TimeBrush:grain} by Resource, status_s, resource_workflowName_s\r\n|join(\r\nAzureDiagnostics\r\n| where ResourceProvider == \"MICROSOFT.LOGIC\" and isResouceMatch(ResourceGroup) == true \r\n| where OperationName startswith \"Microsoft.Logic/workflows/workflowAction\" and isLAMatch(resource_workflowName_s) == true\r\n| summarize count() by Resource, status_s, resource_workflowName_s\r\n) on Resource, status_s, resource_workflowName_s\r\n| order by status_s asc, count_\r\n| where status_s != \"Running\"\r\n| project Action = Resource, LogicAppName = resource_workflowName_s, Status =status_s, Count = count_, Trend\r\n \r\n\r\n",
                                        "size": 1,
                                        "showAnalytics": true,
                                        "timeContext": {
                                            "durationMs": 0
                                        },
                                        "timeContextFromParameter": "TimeBrush",
                                        "exportFieldName": "status_s",
                                        "exportParameterName": "Status",
                                        "exportDefaultValue": "All",
                                        "showExportToExcel": true,
                                        "queryType": 0,
                                        "resourceType": "microsoft.operationalinsights/workspaces",
                                        "crossComponentResources": ["{Workspace}"],
                                        "visualization": "table",
                                        "gridSettings": {
                                            "formatters": [
                                                {
                                                    "columnMatch": "Status",
                                                    "formatter": 18,
                                                    "formatOptions": {
                                                        "thresholdsOptions": "icons",
                                                        "thresholdsGrid": [
                                                            {
                                                                "operator": "==",
                                                                "thresholdValue": "Succeeded",
                                                                "representation": "success",
                                                                "text": "{0}{1}"
                                                            },
                                                            {
                                                                "operator": "==",
                                                                "thresholdValue": "Failed",
                                                                "representation": "failed",
                                                                "text": "{0}{1}"
                                                            },
                                                            {
                                                                "operator": "==",
                                                                "thresholdValue": "Skipped",
                                                                "representation": "1",
                                                                "text": "{0}{1}"
                                                            },
                                                            {
                                                                "operator": "==",
                                                                "thresholdValue": "Running",
                                                                "representation": "pending",
                                                                "text": "{0}{1}"
                                                            },
                                                            {
                                                                "operator": "Default",
                                                                "thresholdValue": null,
                                                                "representation": "more",
                                                                "text": "{0}{1}"
                                                            }
                                                        ]
                                                    }
                                                },
                                                {
                                                    "columnMatch": "Trend",
                                                    "formatter": 10,
                                                    "formatOptions": {
                                                        "palette": "blue"
                                                    }
                                                },
                                                {
                                                    "columnMatch": "Count",
                                                    "formatter": 8,
                                                    "formatOptions": {
                                                        "palette": "gray"
                                                    }
                                                },
                                                {
                                                    "columnMatch": "status_s",
                                                    "formatter": 18,
                                                    "formatOptions": {
                                                        "thresholdsOptions": "icons",
                                                        "thresholdsGrid": [
                                                            {
                                                                "operator": "==",
                                                                "thresholdValue": "Succeeded",
                                                                "representation": "success",
                                                                "text": "{0}{1}"
                                                            },
                                                            {
                                                                "operator": "==",
                                                                "thresholdValue": "Failed",
                                                                "representation": "failed",
                                                                "text": "{0}{1}"
                                                            },
                                                            {
                                                                "operator": "==",
                                                                "thresholdValue": "Skipped",
                                                                "representation": "1",
                                                                "text": "{0}{1}"
                                                            },
                                                            {
                                                                "operator": "==",
                                                                "thresholdValue": "Running",
                                                                "representation": "pending",
                                                                "text": "{0}{1}"
                                                            },
                                                            {
                                                                "operator": "Default",
                                                                "thresholdValue": null,
                                                                "representation": "more",
                                                                "text": "{0}{1}"
                                                            }
                                                        ]
                                                    }
                                                },
                                                {
                                                    "columnMatch": "TimeGenerated",
                                                    "formatter": 21,
                                                    "formatOptions": {
                                                        "palette": "blue"
                                                    }
                                                },
                                                {
                                                    "columnMatch": "count_",
                                                    "formatter": 8,
                                                    "formatOptions": {
                                                        "palette": "greenRed"
                                                    },
                                                    "numberFormat": {
                                                        "unit": 0,
                                                        "options": {
                                                            "style": "decimal",
                                                            "useGrouping": false
                                                        }
                                                    }
                                                }
                                            ],
                                            "filter": true
                                        },
                                        "sortBy": [],
                                        "tileSettings": {
                                            "titleContent": {
                                                "columnMatch": "Action",
                                                "formatter": 1
                                            },
                                            "leftContent": {
                                                "columnMatch": "status_s",
                                                "formatter": 12,
                                                "formatOptions": {
                                                    "palette": "greenRed"
                                                },
                                                "numberFormat": {
                                                    "unit": 17,
                                                    "options": {
                                                        "style": "decimal",
                                                        "useGrouping": false,
                                                        "maximumFractionDigits": 2,
                                                        "maximumSignificantDigits": 3
                                                    }
                                                }
                                            },
                                            "showBorder": false
                                        },
                                        "chartSettings": {
                                            "xAxis": "Resource",
                                            "yAxis": ["status_s", "Trend"],
                                            "group": "status_s",
                                            "createOtherGroup": 50,
                                            "showLegend": true,
                                            "xSettings": {
                                                "numberFormatSettings": {
                                                    "unit": 17,
                                                    "options": {
                                                        "style": "decimal",
                                                        "useGrouping": true
                                                    }
                                                }
                                            },
                                            "ySettings": {
                                                "numberFormatSettings": {
                                                    "unit": 17,
                                                    "options": {
                                                        "style": "decimal",
                                                        "useGrouping": true
                                                    }
                                                }
                                            }
                                        }
                                    },
                                    "name": "query - 3"
                                }
                            ]
                        },
                        "conditionalVisibility": {
                            "parameterName": "SelectedTab",
                            "comparison": "isEqualTo",
                            "value": "Overview"
                        },
                        "name": "Playbooks by status "
                    }
                ]
            },
            "conditionalVisibility": {
                "parameterName": "SelectedTab",
                "comparison": "isEqualTo",
                "value": "Overview"
            },
            "name": "Success and Failure over time"
        },
        {
            "type": 1,
            "content": {
                "json": "In this section you can view Logic Apps activities by user or Logic App.\r\nData is queried from \"AzureActivity\" table. ",
                "style": "info"
            },
            "conditionalVisibilities": [
                {
                    "parameterName": "SelectedTab",
                    "comparison": "isEqualTo",
                    "value": "Activity"
                },
                {
                    "parameterName": "Help",
                    "comparison": "isEqualTo",
                    "value": "Yes"
                }
            ],
            "name": "Overview - Activities"
        },
        {
            "type": 12,
            "content": {
                "version": "NotebookGroup/1.0",
                "groupType": "editable",
                "items": [
                    {
                        "type": 1,
                        "content": {
                            "json": "#### Logic Apps activities by user"
                        },
                        "conditionalVisibility": {
                            "parameterName": "SelectedTab",
                            "comparison": "isEqualTo",
                            "value": "Activity"
                        },
                        "name": "Overview - Activities - Copy"
                    },
                    {
                        "type": 3,
                        "content": {
                            "version": "KqlItem/1.0",
                            "query": "let isResouceMatch=(ResourceToMatch:string){\r\n    let resourceGroupsText = strcat_array(dynamic([{ResourceGroups}]),\",\");\r\n    iff(strcat(\"\",{ResourceGroups}) has \"*\",true, resourceGroupsText contains strcat(\"/resourceGroups/\",tolower(ResourceToMatch)))\r\n};\r\n\r\nlet ResourceOperations = AzureActivity\r\n| where ResourceProviderValue == \"Microsoft.Resources\" and isResouceMatch(ResourceGroup) == true\r\n| where Resource == \"Microsoft.EmptyWorkflow\";\r\nAzureActivity\r\n| where ResourceProviderValue == \"Microsoft.Logic\" and isResouceMatch(ResourceGroup) == true\r\n| union ResourceOperations\r\n| summarize count() by Caller, OperationName, CorrelationId, ResourceGroup\r\n| summarize Creations = countif(OperationName has \"Create\"), Deletions = countif(OperationName has \"Delete\"),  Updates = countif(OperationName has \"set\"), Enable = countif(OperationName has \"Enable\"), Disable = countif(OperationName has \"Disable\"), AllActivities = count() by PreformedBy = Caller, ResourceGroup",
                            "size": 0,
                            "showAnalytics": true,
                            "timeContext": {
                                "durationMs": 604800000
                            },
                            "timeContextFromParameter": "TimeRange",
                            "showExportToExcel": true,
                            "queryType": 0,
                            "resourceType": "microsoft.operationalinsights/workspaces",
                            "crossComponentResources": ["{Workspace}"],
                            "gridSettings": {
                                "formatters": [
                                    {
                                        "columnMatch": "Creations",
                                        "formatter": 8,
                                        "formatOptions": {
                                            "palette": "blueGreen"
                                        }
                                    },
                                    {
                                        "columnMatch": "Deletions",
                                        "formatter": 8,
                                        "formatOptions": {
                                            "palette": "orangeRed"
                                        }
                                    },
                                    {
                                        "columnMatch": "Updates",
                                        "formatter": 8,
                                        "formatOptions": {
                                            "palette": "blue"
                                        }
                                    },
                                    {
                                        "columnMatch": "Enable",
                                        "formatter": 8,
                                        "formatOptions": {
                                            "palette": "blueGreen"
                                        }
                                    },
                                    {
                                        "columnMatch": "Disable",
                                        "formatter": 8,
                                        "formatOptions": {
                                            "palette": "orangeRed"
                                        }
                                    },
                                    {
                                        "columnMatch": "AllActivities",
                                        "formatter": 8,
                                        "formatOptions": {
                                            "palette": "blue"
                                        }
                                    },
                                    {
                                        "columnMatch": "creations",
                                        "formatter": 8,
                                        "formatOptions": {
                                            "palette": "blueGreen"
                                        }
                                    }
                                ],
                                "filter": true
                            },
                            "sortBy": []
                        },
                        "showPin": false,
                        "name": "query - 0"
                    },
                    {
                        "type": 1,
                        "content": {
                            "json": "#### API Connection activities by user"
                        },
                        "conditionalVisibility": {
                            "parameterName": "SelectedTab",
                            "comparison": "isEqualTo",
                            "value": "Activity"
                        },
                        "name": "Overview - Activities - Copy - Copy"
                    },
                    {
                        "type": 3,
                        "content": {
                            "version": "KqlItem/1.0",
                            "query": "let isResouceMatch=(ResourceToMatch:string){\r\n    let resourceGroupsText = strcat_array(dynamic([{ResourceGroups}]),\",\");\r\n    iff(strcat(\"\",{ResourceGroups}) has \"*\",true, resourceGroupsText contains strcat(\"/resourceGroups/\",tolower(ResourceToMatch)))\r\n};\r\nAzureActivity\r\n| where ResourceProviderValue == \"Microsoft.Web\" and isResouceMatch(ResourceGroup)==true\r\n| summarize count() by Caller, OperationName, CorrelationId,ResourceGroup\r\n| summarize Creations = countif(OperationName has \"Create\"), Deletions = countif(OperationName has \"Delete\"),  Updates = countif(OperationName has \"set\"), AllActivities = count() by PreformedBy = Caller,ResourceGroup",
                            "size": 1,
                            "showAnalytics": true,
                            "timeContext": {
                                "durationMs": 604800000
                            },
                            "timeContextFromParameter": "TimeRange",
                            "showExportToExcel": true,
                            "queryType": 0,
                            "resourceType": "microsoft.operationalinsights/workspaces",
                            "crossComponentResources": ["{Workspace}"],
                            "gridSettings": {
                                "formatters": [
                                    {
                                        "columnMatch": "Creations",
                                        "formatter": 8,
                                        "formatOptions": {
                                            "palette": "blueGreen"
                                        }
                                    },
                                    {
                                        "columnMatch": "Deletions",
                                        "formatter": 8,
                                        "formatOptions": {
                                            "palette": "orangeRed"
                                        }
                                    },
                                    {
                                        "columnMatch": "Updates",
                                        "formatter": 8,
                                        "formatOptions": {
                                            "palette": "blue"
                                        }
                                    },
                                    {
                                        "columnMatch": "AllActivities",
                                        "formatter": 8,
                                        "formatOptions": {
                                            "palette": "blue"
                                        }
                                    },
                                    {
                                        "columnMatch": "creations",
                                        "formatter": 8,
                                        "formatOptions": {
                                            "palette": "blueGreen"
                                        }
                                    },
                                    {
                                        "columnMatch": "Disable",
                                        "formatter": 8,
                                        "formatOptions": {
                                            "palette": "orangeRed"
                                        }
                                    }
                                ],
                                "filter": true
                            },
                            "sortBy": []
                        },
                        "name": "query - 0 - Copy"
                    },
                    {
                        "type": 1,
                        "content": {
                            "json": "#### Logic Apps activities by Logic App and user"
                        },
                        "conditionalVisibility": {
                            "parameterName": "SelectedTab",
                            "comparison": "isEqualTo",
                            "value": "Activity"
                        },
                        "name": "Overview - Activities - Copy - Copy - Copy"
                    },
                    {
                        "type": 3,
                        "content": {
                            "version": "KqlItem/1.0",
                            "query": "let isResouceMatch=(ResourceToMatch:string){\r\n    let resourceGroupsText = strcat_array(dynamic([{ResourceGroups}]),\",\");\r\n    iff(strcat(\"\",{ResourceGroups}) has \"*\",true, resourceGroupsText contains strcat(\"/resourceGroups/\",tolower(ResourceToMatch)))\r\n};\r\nlet baseQuery = AzureActivity\r\n| where ResourceProviderValue == \"Microsoft.Logic\" and isResouceMatch(ResourceGroup)==true\r\n| extend parseName = tostring(todynamic(Authorization)[\"scope\"])\r\n| where parseName contains \"workflows\"\r\n| extend LogicAppName = tostring(split(split(parseName, 'workflows/')[1], '/')[0]) // parse LogicApp name\r\n| extend OperationType = iff ((OperationName has \"set\" and tostring(todynamic(Properties)[\"statusCode\"]) == \"Created\"), \"Create\", OperationName);\r\nlet UsersByLogicApp = baseQuery\r\n| summarize PerformedBy = make_set(Caller) by LogicAppName;\r\nlet operationsSummary = baseQuery\r\n| summarize count() by LogicAppName, CorrelationId, ResourceGroup, OperationType\r\n| summarize Creations = countif(OperationType == \"Create\"),Deletions = countif(OperationType has \"Delete\"),  Updates = countif(OperationType has \"set\"), Enable = countif(OperationType has \"Enable\"), Disable = countif(OperationType has \"Disable\"), AllActivities = count() by LogicAppName, ResourceGroup;\r\noperationsSummary\r\n| join (UsersByLogicApp) on LogicAppName\r\n| project-away LogicAppName1\r\n\r\n",
                            "size": 0,
                            "showAnalytics": true,
                            "timeContext": {
                                "durationMs": 604800000
                            },
                            "timeContextFromParameter": "TimeRange",
                            "showExportToExcel": true,
                            "queryType": 0,
                            "resourceType": "microsoft.operationalinsights/workspaces",
                            "crossComponentResources": ["{Workspace}"],
                            "gridSettings": {
                                "formatters": [
                                    {
                                        "columnMatch": "Creations",
                                        "formatter": 8,
                                        "formatOptions": {
                                            "palette": "blueGreen"
                                        }
                                    },
                                    {
                                        "columnMatch": "Deletions",
                                        "formatter": 8,
                                        "formatOptions": {
                                            "palette": "orangeRed"
                                        }
                                    },
                                    {
                                        "columnMatch": "Updates",
                                        "formatter": 8,
                                        "formatOptions": {
                                            "palette": "blue"
                                        }
                                    },
                                    {
                                        "columnMatch": "Enable",
                                        "formatter": 8,
                                        "formatOptions": {
                                            "palette": "blueGreen"
                                        }
                                    },
                                    {
                                        "columnMatch": "Disable",
                                        "formatter": 8,
                                        "formatOptions": {
                                            "palette": "orangeRed"
                                        }
                                    },
                                    {
                                        "columnMatch": "AllActivities",
                                        "formatter": 8,
                                        "formatOptions": {
                                            "palette": "blue"
                                        }
                                    }
                                ],
                                "filter": true,
                                "sortBy": [
                                    {
                                        "itemKey": "$gen_heatmap_Creations_2",
                                        "sortOrder": 2
                                    }
                                ]
                            },
                            "sortBy": [
                                {
                                    "itemKey": "$gen_heatmap_Creations_2",
                                    "sortOrder": 2
                                }
                            ]
                        },
                        "name": "query - 1"
                    }
                ]
            },
            "conditionalVisibility": {
                "parameterName": "SelectedTab",
                "comparison": "isEqualTo",
                "value": "Activity"
            },
            "name": "group - 14"
        },
        {
            "type": 12,
            "content": {
                "version": "NotebookGroup/1.0",
                "groupType": "editable",
                "items": [
                    {
                        "type": 1,
                        "content": {
                            "json": "#### Billable information\r\n\r\n\r\n"
                        },
                        "conditionalVisibility": {
                            "parameterName": "SelectedTab",
                            "comparison": "isEqualTo",
                            "value": "Billable Info"
                        },
                        "name": "Help -Billable"
                    },
                    {
                        "type": 1,
                        "content": {
                            "json": "In this section, you can view billable information regarding your Logic Apps. The data is based on Logic Apps' build-in metrics. To view the list of Logic Apps click the \">\" icon in the subscription column.\r\nBy using the calculator link you can insert the \"Total billable executions\" to estimate the cost of your Logic Apps.\r\nAt the top of the grid, you have the total billable executions for the whole subscription. https://azure.microsoft.com/pricing/details/logic-apps/ \r\n\r\n"
                        },
                        "conditionalVisibilities": [
                            {
                                "parameterName": "SelectedTab",
                                "comparison": "isEqualTo",
                                "value": "Billable Info"
                            },
                            {
                                "parameterName": "Help",
                                "comparison": "isEqualTo",
                                "value": "Yes"
                            }
                        ],
                        "name": "Help -Billable - Copy"
                    },
                    {
                        "type": 10,
                        "content": {
                            "chartId": "workbook757f2678-5866-4962-bef3-4b77db39d723",
                            "version": "MetricsItem/2.0",
                            "size": 0,
                            "chartType": 0,
                            "resourceType": "microsoft.logic/workflows",
                            "metricScope": 0,
                            "resourceParameter": "Resources",
                            "resourceIds": ["{Resources}"],
                            "timeContextFromParameter": "TimeRange",
                            "timeContext": {
                                "durationMs": 259200000
                            },
                            "metrics": [
                                {
                                    "namespace": "microsoft.logic/workflows",
                                    "metric": "microsoft.logic/workflows--BillableTriggerExecutions",
                                    "aggregation": 1
                                },
                                {
                                    "namespace": "microsoft.logic/workflows",
                                    "metric": "microsoft.logic/workflows--BillableActionExecutions",
                                    "aggregation": 1
                                },
                                {
                                    "namespace": "microsoft.logic/workflows",
                                    "metric": "microsoft.logic/workflows--TotalBillableExecutions",
                                    "aggregation": 1
                                },
                                {
                                    "namespace": "microsoft.logic/workflows",
                                    "metric": "microsoft.logic/workflows--RunsStarted",
                                    "aggregation": 1
                                }
                            ],
                            "tileSettings": {
                                "showBorder": false,
                                "titleContent": {
                                    "columnMatch": "Name",
                                    "formatter": 13
                                },
                                "leftContent": {
                                    "columnMatch": "Value",
                                    "formatter": 12,
                                    "formatOptions": {
                                        "palette": "auto"
                                    },
                                    "numberFormat": {
                                        "unit": 17,
                                        "options": {
                                            "maximumSignificantDigits": 3,
                                            "maximumFractionDigits": 2
                                        }
                                    }
                                }
                            },
                            "gridSettings": {
                                "formatters": [
                                    {
                                        "columnMatch": "$gen_group",
                                        "formatter": 15,
                                        "formatOptions": {
                                            "linkTarget": null
                                        }
                                    },
                                    {
                                        "columnMatch": "Subscription",
                                        "formatter": 5
                                    },
                                    {
                                        "columnMatch": "Name",
                                        "formatter": 13,
                                        "formatOptions": {
                                            "linkTarget": "Resource",
                                            "showIcon": true
                                        }
                                    },
                                    {
                                        "columnMatch": "microsoft.logic/workflows--BillableTriggerExecutions",
                                        "formatter": 8,
                                        "formatOptions": {
                                            "palette": "blue"
                                        },
                                        "numberFormat": {
                                            "unit": 0,
                                            "options": {
                                                "style": "decimal",
                                                "useGrouping": false
                                            }
                                        }
                                    },
                                    {
                                        "columnMatch": "microsoft.logic/workflows--BillableTriggerExecutions Timeline",
                                        "formatter": 5
                                    },
                                    {
                                        "columnMatch": "microsoft.logic/workflows--BillableActionExecutions",
                                        "formatter": 8,
                                        "formatOptions": {
                                            "palette": "blue"
                                        },
                                        "numberFormat": {
                                            "unit": 0,
                                            "options": {
                                                "style": "decimal"
                                            }
                                        }
                                    },
                                    {
                                        "columnMatch": "microsoft.logic/workflows--BillableActionExecutions Timeline",
                                        "formatter": 5
                                    },
                                    {
                                        "columnMatch": "microsoft.logic/workflows--TotalBillableExecutions",
                                        "formatter": 8,
                                        "formatOptions": {
                                            "palette": "blue",
                                            "aggregation": "Sum"
                                        }
                                    },
                                    {
                                        "columnMatch": "microsoft.logic/workflows--TotalBillableExecutions Timeline",
                                        "formatter": 21,
                                        "formatOptions": {
                                            "palette": "blue"
                                        }
                                    },
                                    {
                                        "columnMatch": "microsoft.logic/workflows--RunsStarted",
                                        "formatter": 8,
                                        "formatOptions": {
                                            "palette": "blue"
                                        },
                                        "numberFormat": {
                                            "unit": 0,
                                            "options": {
                                                "style": "decimal"
                                            }
                                        }
                                    },
                                    {
                                        "columnMatch": "microsoft.logic/workflows--RunsStarted Timeline",
                                        "formatter": 21,
                                        "formatOptions": {
                                            "palette": "blue"
                                        }
                                    },
                                    {
                                        "columnMatch": "RG",
                                        "formatter": 13,
                                        "formatOptions": {
                                            "linkTarget": null,
                                            "showIcon": true
                                        }
                                    },
                                    {
                                        "columnMatch": "Sum",
                                        "formatter": 1,
                                        "formatOptions": {
                                            "aggregation": "Sum"
                                        },
                                        "numberFormat": {
                                            "unit": 0,
                                            "options": {
                                                "style": "decimal",
                                                "useGrouping": false
                                            }
                                        }
                                    }
                                ],
                                "rowLimit": 10000,
                                "filter": true,
                                "hierarchySettings": {
                                    "treeType": 1,
                                    "groupBy": ["Subscription"]
                                },
                                "sortBy": [
                                    {
                                        "itemKey": "$gen_heatmap_microsoft.logic/workflows--TotalBillableExecutions_7",
                                        "sortOrder": 2
                                    }
                                ],
                                "labelSettings": [
                                    {
                                        "columnId": "microsoft.logic/workflows--BillableTriggerExecutions",
                                        "label": "Billable Trigger Executions (Sum)"
                                    },
                                    {
                                        "columnId": "microsoft.logic/workflows--BillableTriggerExecutions Timeline",
                                        "label": "Billable Trigger Executions Timeline"
                                    },
                                    {
                                        "columnId": "microsoft.logic/workflows--BillableActionExecutions",
                                        "label": "Billable Action Executions (Sum)"
                                    },
                                    {
                                        "columnId": "microsoft.logic/workflows--BillableActionExecutions Timeline",
                                        "label": "Billable Action Executions Timeline"
                                    },
                                    {
                                        "columnId": "microsoft.logic/workflows--TotalBillableExecutions",
                                        "label": "Total Billable Executions (Sum)"
                                    },
                                    {
                                        "columnId": "microsoft.logic/workflows--TotalBillableExecutions Timeline",
                                        "label": "Total Billable Executions Timeline"
                                    },
                                    {
                                        "columnId": "microsoft.logic/workflows--RunsStarted",
                                        "label": "Runs Started (Sum)"
                                    },
                                    {
                                        "columnId": "microsoft.logic/workflows--RunsStarted Timeline",
                                        "label": "Runs Started Timeline"
                                    }
                                ]
                            },
                            "sortBy": [
                                {
                                    "itemKey": "$gen_heatmap_microsoft.logic/workflows--TotalBillableExecutions_7",
                                    "sortOrder": 2
                                }
                            ],
                            "exportFieldName": "Total Billable Executions (Sum)",
                            "exportParameterName": "Total",
                            "exportDefaultValue": "All",
                            "showExportToExcel": true
                        },
                        "conditionalVisibility": {
                            "parameterName": "SelectedTab",
                            "comparison": "isEqualTo",
                            "value": "Billable Info"
                        },
                        "name": "Billable Metric"
                    }
                ]
            },
            "conditionalVisibility": {
                "parameterName": "SelectedTab",
                "comparison": "isEqualTo",
                "value": "Billable Info"
            },
            "name": "Billable Info"
        }
    ],
    "fallbackResourceIds": [""],
    "fromTemplateId": "sentinel-PlaybooksHealth",
    "$schema": "https://github.com/Microsoft/Application-Insights-Workbooks/blob/master/schema/workbook.json"
}
