{
  "name": "ObsidianDatasharingPushConnectorPolling",
  "apiVersion": "2023-02-01-preview",
  "type": "Microsoft.SecurityInsights/dataConnectors",
  "kind": "Push",
  "properties": {
    "connectorDefinitionName": "ObsidianDatasharing",
    "dcrConfig": {
      "streamName": "Custom-ObsidianActivity",
      "dataCollectionEndpoint": "{{dataCollectionEndpoint}}",
      "dataCollectionRuleImmutableId": "{{dataCollectionRuleImmutableId}}"
    },
    "auth": {
      "type": "Push",
      "AppId": "{{appId}}",
      "ServicePrincipalId": "{{servicePrincipalId}}"
    },
    "request": {
      "RetryCount":1
    },
    "response": {
      "eventsJsonPaths": [
        "$.messages"
      ]
    }
  }
}