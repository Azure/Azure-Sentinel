[{
    "type": "Microsoft.SecurityInsights/dataConnectors",
    "apiVersion": "2022-12-01-preview",
    "name": "apiRequest",
    "kind": "RestApiPoller",
    "properties": {
        "connectorDefinitionName": "IslandV2",
        "dataType": "Island_V2_CL",
        "dcrConfig": {
            "streamName": "Custom-IslandV2",
            "dataCollectionEndpoint": "{{dataCollectionEndpoint}}",
            "dataCollectionRuleImmutableId": "{{dataCollectionRuleImmutableId}}"
        },
        "auth": {
            "type": "APIKey",
            "APIKeyName": "Authorization",
            "APIKey": "{{apiKey}}"
        },
        "request": {
            "apiEndpoint": "{{apiEndpoint}}",
            "rateLimitQPS": 1,
            "queryWindowInMin": 5,
            "httpMethod": "Get",
            "retryCount": 3,
            "timeoutInSeconds": 60,
            "headers": {
                "Accept": "application/json"
            }
        },
        "paging": {
            "pagingType": "LinkHeader"
        },
        "response": {
            "eventsJsonPaths": [
                "$"
            ],
            "format": "jsonlines",
            "successStatusCodes": [
                200,
                204
            ]
        }
    }
}]
