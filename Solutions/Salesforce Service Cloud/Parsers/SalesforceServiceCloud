// Usage Instruction : 
// Paste below query in log analytics, click on Save button and select as Function from drop down by specifying function name and alias as SalesforceServiceCloud.
// Function usually takes 10-15 minutes to activate. You can then use function alias from any other queries (e.g. SalesforceServiceCloud | take 10).
// Reference : Using functions in Azure monitor log queries : https://docs.microsoft.com/azure/azure-monitor/log-query/functions

SalesforceServiceCloud_CL 
| project-rename
		RequestSize=request_size_s,
		DelegatedUserName=delegated_user_name_s,
		DelegatedUserId=delegated_user_id_s,
		DelegatedUserIdDerived=delegated_user_id_derived_s,
		ExecTime=exec_time_s,
		Action=action_s,
		PlatformType=platform_type_s,
		OsName=os_name_s,
		OsVersion=os_version_s,
		NumberOfRecords=number_of_records_s,
		Timestamp=timestamp_s,
		StatusCode=status_code_s,
		EventType=event_type_s,
		SizeBytes=size_bytes_s,
		ReferrerUri=referrer_uri_s,
		UserAgent=user_agent_s,
		BrowserType=browser_type_s,
		Time=time_s,
		ResponseSize=response_size_s,
		DeviceId=device_id_s,
		DeviceModel=device_model_s,
		SourceIp=source_ip_s,
		ClientIp=client_ip_s,
		Success=success_s,
		Uri=uri_s,
		Url=url_s,
		ClientName=client_name_s,
		WaveTimestamp=wave_timestamp_s,
		WaveSessionId=wave_session_id_g,
		ViewStateSize=view_state_size_s,
		VersionIdDerived=version_id_derived_s,
		VersionId=version_id_s,
		UserType=user_type_s,
		UserInitiatedLogout=user_initiated_logout_s,
		UserIdDerived=user_id_derived_s,
		UserId=user_id_s,
		UserEmail=user_email_s,
		User=user_name_s,
		UriIdDerived=uri_id_derived_s,
		UiEventType=ui_event_type_s,
		UiEventTimestamp=ui_event_timestamp_s,
		UiEventSource=ui_event_source_s,
		UiEventSequenceNum=ui_event_sequence_num_s,
		UiEventId=ui_event_id_s,
		TriggerType=trigger_type_s,
		TriggerName=trigger_name_s,
		TriggerId=trigger_id_s,
		TransactionType=transaction_type_s,
		TotalTime=total_time_s,
		TlsProtocol=tls_protocol_s,
		TimestampDerived=timestamp_derived_t,
		TargetUiElement=target_ui_element_s,
		TabId=tab_id_s,
		StackTrace=stack_trace_s,
		Sort=sort_s,
		SiteId=site_id_s,
		SharingPermission=sharing_permission_s,
		SharingOperation=sharing_operation_s,
		SharedWithEntityId=shared_with_entity_id_s,
		SessionType=session_type_s,
		SessionLevel=session_level_s,
		SessionKey=session_key_s,
		SessionId=session_id_s,
		SearchQuery=search_query_s,
		SdkVersion=sdk_version_s,
		SdkAppVersion=sdk_app_version_s,
		SdkAppType=sdk_app_type_s,
		RunTime=run_time_s,
		RowsProcessed=rows_processed_s,
		RowCount=row_count_s,
		ResolutionType=resolution_type_s,
		RequestType=request_type_s,
		RequestStatus=request_status_s,
		RequestId=request_id_s,
		ReportIdDerived=report_id_derived_s,
		ReportId=report_id_s,
		ReportDescription=report_description_s,
		ReopenCount=reopen_count_s,
		RenderingType=rendering_type_s,
		RelatedList=related_list_s,
		RelatedEntityId=related_entity_id_s,
		RecordType=record_type_s,
		RecordIdDerived=record_id_derived_s,
		RecordId=record_id_s,
		ReadTime=read_time_s,
		Rank=rank_s,
		Quiddity=quiddity_s,
		QueryId=query_id_s,
		Query=query_s,
		PrevpageUrl=prevpage_url_s,
		PrevpageEntityType=prevpage_entity_type_s,
		PrevpageEntityId=prevpage_entity_id_s,
		PrevpageContext=prevpage_context_s,
		PrevpageAppName=prevpage_app_name_s,
		PrefixesSearched=prefixes_searched_s,
		ParentUiElement=parent_ui_element_s,
		PageUrl=page_url_s,
		PageStartTime=page_start_time_s,
		PageName=page_name_s,
		PageEntityType=page_entity_type_s,
		PageEntityId=page_entity_id_s,
		PageContext=page_context_s,
		PageAppName=page_app_name_s,
		Origin=origin_s,
		OrganizationId=organization_id_s,
		OperationType=operation_type_s,
		NumSessions=num_sessions_s,
		NumResults=num_results_s,
		NumClicks=num_clicks_s,
		NumberSoqlQueries=number_soql_queries_s,
		NumberFields=number_fields_s,
		NumberFailures=number_failures_s,
		NumberExceptionFilters=number_exception_filters_s,
		NumberColumns=number_columns_s,
		NumberBuckets=number_buckets_s,
		Name=name_s,
		MethodName=method_name_s,
		Method=method_s,
		MediaType=media_type_s,
		ManagedPackageNamespace=managed_package_namespace_s,
		LoginStatus=login_status_s,
		LoginKey=login_key_s,
		LogGroupId=log_group_id_s,
		LimitUsagePercent=limit_usage_percent_s,
		LicenseContext=license_context_s,
		LastVersion=last_version_s,
		Language=language_s,
		JobId=job_id_s,
		IsSuccess=is_success_s,
		IsSecure=is_secure_s,
		IsScheduled=is_scheduled_s,
		IsNew=is_new_s,
		IsMobile=is_mobile_s,
		IsLongRunningRequest=is_long_running_request_s,
		IsGuest=is_guest_s,
		IsFirstRequest=is_first_request_s,
		IsError=is_error_s,
		IsApi=is_api_s,
		IsAjaxRequest=is_ajax_request_s,
		HttpMethod=http_method_s,
		HttpHeaders=http_headers_s,
		GrandparentUiElement=grandparent_ui_element_s,
		FileType=file_type_s,
		FilePreviewType=file_preview_type_s,
		ExceptionType=exception_type_s,
		ExceptionMessage=exception_message_s,
		Ept=ept_s,
		EntryPoint=entry_point_s,
		EntityType=entity_type_s,
		EntityName=entity_name_s,
		EntityId=entity_id_s,
		Entity=entity_s,
		EffectivePageTime=effective_page_time_s,
		Duration=duration_s,
		DocumentIdDerived=document_id_derived_s,
		DocumentId=document_id_s,
		DisplayType=display_type_s,
		DeviceSessionId=device_session_id_s,
		DevicePlatform=device_platform_s,
		DeliveryLocation=delivery_location_s,
		DeliveryId=delivery_id_s,
		DbTotalTime=db_total_time_s,
		DbCpuTime=db_cpu_time_s,
		DbBlocks=db_blocks_s,
		Data=data_s,
		DashboardType=dashboard_type_s,
		DashboardIdDerived=dashboard_id_derived_s,
		DashboardId=dashboard_id_s,
		DashboardComponentId=dashboard_component_id_s,
		CpuTime=cpu_time_s,
		ControllerType=controller_type_s,
		Context=context_s,
		ConsoleIdDerived=console_id_derived_s,
		ConsoleId=console_id_s,
		ConnectionType=connection_type_s,
		ComponentName=component_name_s,
		ComponentIdDerived=component_id_derived_s,
		ComponentId=component_id_s,
		ClientVersion=client_version_s,
		ClientInfo=client_info_s,
		ClientId=client_id_s,
		ClickedRecordId=clicked_record_id_s,
		ClassName=class_name_s,
		CipherSuite=cipher_suite_s,
		CalloutTime=callout_time_s,
		BrowserVersion=browser_version_s,
		BrowserName=browser_name_s,
		BatchId=batch_id_s,
		AverageRowSize=average_row_size_s,
		ArticleVersionId=article_version_id_s,
		ArticleVersion=article_version_s,
		ArticleStatus=article_status_s,
		ArticleId=article_id_s,
		AppType=app_type_s,
		AppName=app_name_s,
		ApiVersion=api_version_s,
		ApiType=api_type_s,
		AnalyticsMode=analytics_mode_s
| extend 
		DstBytes=RequestSize,
		DstUser=DelegatedUserName,
		DstUserSid=DelegatedUserId,
		DstUserSidDerived=DelegatedUserIdDerived,
		Duration=ExecTime,
		DvcAction=Action,
		DvcOS=PlatformType,
		DvcOSName=OsName,
		DvcOSVersion=OsVersion,
		EventCount=NumberOfRecords,
		EventEndTime=Timestamp,
		EventResult=StatusCode,
		EventType=EventType,
		FileSize=SizeBytes,
		HttpReferrerOriginal=ReferrerUri,
		HttpUserAgentOriginal=UserAgent,
		HttpUserAgent=BrowserType,
		NetworkDuration=Time,
		SrcBytes=ResponseSize,
		SrcDvcId=DeviceId,
		SrcDvcModelName=DeviceModel,
		SrcIpAddr=SourceIp,
		SrcNatIpAddr=ClientIp,
		Success=Success,
		UrlOriginal=Url,
		User=ClientName