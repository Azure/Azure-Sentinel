{
    "name": "MiroAuditLogs_CL",
    "apiVersion": "2025-07-01",
    "type": "Microsoft.OperationalInsights/workspaces/tables",
    "location": "{{location}}",
    "kind": null,
    "properties": {
        "schema": {
            "name": "MiroAuditLogs_CL",
            "columns": [
                {
                    "name": "TimeGenerated",
                    "type": "datetime",
                    "description": "The timestamp (UTC) reflecting the time when the event was ingested"
                },
                {
                    "name": "id",
                    "type": "string",
                    "description": "Unique identifier of the audit event"
                },
                {
                    "name": "createdAt",
                    "type": "datetime",
                    "description": "Timestamp when the audit event was created"
                },
                {
                    "name": "event",
                    "type": "string",
                    "description": "Name of the audit event"
                },
                {
                    "name": "category",
                    "type": "string",
                    "description": "Category of the audit event"
                },
                {
                    "name": "logType",
                    "type": "string",
                    "description": "Type of the log entry. Mapped from API's 'type' field to avoid reserved 'Type' column name."
                },
                {
                    "name": "createdBy_email",
                    "type": "string",
                    "description": "Email address of the user who triggered the event"
                },
                {
                    "name": "createdBy_id",
                    "type": "string",
                    "description": "Unique identifier of the user who triggered the event"
                },
                {
                    "name": "createdBy_name",
                    "type": "string",
                    "description": "Name of the user who triggered the event"
                },
                {
                    "name": "createdBy_type",
                    "type": "string",
                    "description": "Type of the actor (user, service account, etc.)"
                },
                {
                    "name": "object_id",
                    "type": "string",
                    "description": "Unique identifier of the object affected by the event"
                },
                {
                    "name": "object_name",
                    "type": "string",
                    "description": "Name of the object affected by the event"
                },
                {
                    "name": "context_ip",
                    "type": "string",
                    "description": "IP address from which the event originated"
                },
                {
                    "name": "context_team_id",
                    "type": "string",
                    "description": "Unique identifier of the team context"
                },
                {
                    "name": "context_team_name",
                    "type": "string",
                    "description": "Name of the team context"
                },
                {
                    "name": "context_team_type",
                    "type": "string",
                    "description": "Type of the team"
                },
                {
                    "name": "context_organization_id",
                    "type": "string",
                    "description": "Unique identifier of the organization"
                },
                {
                    "name": "context_organization_name",
                    "type": "string",
                    "description": "Name of the organization"
                },
                {
                    "name": "context_organization_type",
                    "type": "string",
                    "description": "Type of the organization"
                },
                {
                    "name": "details",
                    "type": "dynamic",
                    "description": "Additional event details in JSON format"
                }
            ]
        }
    }
}
