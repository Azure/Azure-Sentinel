{
    "id": "DatawizaDapSolution",
    "title": "Datawiza DAP",
    "publisher": "Datawiza",
    "descriptionMarkdown": "Connects the Datawiza DAP logs to Azure Log Analytics via the REST API interface",
    "graphQueries": [
        {
            "metricName": "Total data received",
            "legend": "Datawiza",
            "baseQuery": "datawizaserveraccess_CL"
        }
    ],
    "sampleQueries": [
        {
            "description": "API requests that were rate-limited",
            "query": "datawizaserveraccess_CL\n| where TimeGenerated >= ago(30d)\n| where Status_d == 429"
        }
    ],
    "dataTypes": [
        {
            "name": "datawizaserveraccess_CL",
            "lastDataReceivedQuery": "datawizaserveraccess_CL\n | summarize Time = max(TimeGenerated)\n | where isnotempty(Time)"
        }
    ],
    "connectivityCriterias": [
        {
            "type": "IsConnectedQuery",
            "value": [
                "datawizaserveraccess_CL\n| summarize LastLogReceived = max(TimeGenerated)\n | project IsConnected = LastLogReceived > ago(7d)"
            ]
        }
    ],
    "availability": {
        "status": 1,
        "isPreview": true
    },
    "permissions": {
        "resourceProvider": [
            {
                "provider": "Microsoft.OperationalInsights/workspaces",
                "permissionsDisplayText": "read and write permissions are required.",
                "providerDisplayName": "Workspace",
                "scope": "Workspace",
                "requiredPermissions": {
                    "write": true,
                    "read": true,
                    "delete": true
                }
            },
            {
                "provider": "Microsoft.OperationalInsights/workspaces/sharedKeys",
                "permissionsDisplayText": "read permissions to shared keys for the workspace are required. [See the documentation to learn more about workspace keys](https://docs.microsoft.com/azure/azure-monitor/platform/agent-windows#obtain-workspace-id-and-key).",
                "providerDisplayName": "Keys",
                "scope": "Workspace",
                "requiredPermissions": {
                    "action": true
                }
            }
        ]
    },
    "instructionSteps": [
        {
            "title": "Step 1 : Read the detailed documentation",
            "description": "The installation process is documented in great detail in the documentation site [Microsoft Sentinel integration](https://docs.datawiza.com/tutorial/integrate-with-microsoft-sentinel.html). The user should consult our support (support@datawiza.com) further to understand installation and debug of the integration."
        },
        {
            "title": "Step 2: Install the Datawiza Sentinel Connector",
            "description": "The next step is to install the Datawiza log forwarder to send logs to Microsoft Sentinel. The exact installation will depend on your environment, consult the [Microsoft Sentinel integration](https://docs.datawiza.com/tutorial/integrate-with-microsoft-sentinel.html) for full details. "
        },
        {
            "title": "Step 3: Test the data ingestion",
            "description": "After approximately 20 minutes access the Log Analytics workspace on your Microsoft Sentinel installation, and locate the *Custom Logs* section verify that a *datawizaserveraccess_CL* table exists. Use the sample queries to examine the data."
            
        }
    ]
}