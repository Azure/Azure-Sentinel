{
  "$schema": "https://schema.management.azure.com/schemas/0.1.2-preview/CreateUIDefinition.MultiVm.json#",
  "handler": "Microsoft.Azure.CreateUIDef",
  "version": "0.1.2-preview",
  "parameters": {
    "config": {
      "isWizard": false,
      "basics": {
        "description": "<img src=\"https://raw.githubusercontent.com/Azure/Azure-Sentinel/master/Logos/ZscalerLogo.svg\" width=\"358px\" height=\"221px\">\n\n**Note:** Please refer to the following before installing the solution: \n\n• Review the solution [Release Notes](https://github.com/Azure/Azure-Sentinel/tree/master/Solutions/Zscaler%20Internet%20Access/ReleaseNotes.md)\n\n • There may be [known issues](https://aka.ms/sentinelsolutionsknownissues) pertaining to this Solution, please refer to them before installing.\n\nThe [Zscaler Internet Access](https://www.zscaler.com/products-and-solutions/zscaler-internet-access) solution for Microsoft Sentinel enables you to ingest [Zscaler Internet Access Logs](https://help.zscaler.com/zia/nanolog-streaming-service) into Microsoft Sentinel using the Microsoft Sentinel Analytics Workspace.\n\nSupported log types include:\n 1. Web, Firewall, DNS, Tunnel\n 2. Endpoint DLP, Email DLP\n 3. CASB: Activity, Cloud Storage, Collaboration, CRM, Email, File Sharing, ITSM, Repo\n 4. Audit\n\nThis enables you to monitor web access, security events, and data protection activity, and respond using the included workbooks and playbooks.\n\n**Underlying Microsoft Technologies used:**\n\nThis solution takes a dependency on the following technologies, and some of these dependencies either may be in [Preview](https://azure.microsoft.com/support/legal/preview-supplemental-terms/) state or might result in additional ingestion or operational costs:\n 1. [Azure Monitor Logs: DCR-based Custom Logs](https://docs.microsoft.com/azure/azure-monitor/logs/custom-logs-overview)\n 2. [Codeless Connector Platform (CCP)](https://docs.microsoft.com/azure/sentinel/create-codeless-connector?tabs=deploy-via-arm-template%2Cconnect-via-the-azure-portal)\n 3. [Azure Logic Apps](https://learn.microsoft.com/azure/logic-apps/logic-apps-overview)\n\n**Data Connectors:** 15, **Workbooks:** 17, **Playbooks:** 10\n\n[Learn more about Microsoft Sentinel](https://aka.ms/azuresentinel) | [Learn more about Solutions](https://aka.ms/azuresentinelsolutionsdoc)",
        "subscription": {
          "resourceProviders": [
            "Microsoft.OperationsManagement/solutions",
            "Microsoft.OperationalInsights/workspaces/providers/alertRules",
            "Microsoft.Insights/workbooks",
            "Microsoft.Logic/workflows"
          ]
        },
        "location": {
          "metadata": {
            "hidden": "Hiding location, we get it from the log analytics workspace"
          },
          "visible": false
        },
        "resourceGroup": {
          "allowExisting": true
        }
      }
    },
    "basics": [
      {
        "name": "getLAWorkspace",
        "type": "Microsoft.Solutions.ArmApiControl",
        "toolTip": "This filters by workspaces that exist in the Resource Group selected",
        "condition": "[greater(length(resourceGroup().name),0)]",
        "request": {
          "method": "GET",
          "path": "[concat(subscription().id,'/providers/Microsoft.OperationalInsights/workspaces?api-version=2020-08-01')]"
        }
      },
      {
        "name": "workspace",
        "type": "Microsoft.Common.DropDown",
        "label": "Workspace",
        "placeholder": "Select a workspace",
        "toolTip": "This dropdown will list only workspace that exists in the Resource Group selected",
        "constraints": {
          "allowedValues": "[map(filter(basics('getLAWorkspace').value, (filter) => contains(toLower(filter.id), toLower(resourceGroup().name))), (item) => parse(concat('{\"label\":\"', item.name, '\",\"value\":\"', item.name, '\"}')))]",
          "required": true
        },
        "visible": true
      }
    ],
    "steps": [
      {
        "name": "dataconnectors",
        "label": "Data Connectors",
        "bladeTitle": "Data Connectors",
        "elements": [
          {
            "name": "dataconnectors1-text",
            "type": "Microsoft.Common.TextBlock",
            "options": {
              "text": "This Solution installs the data connector for Zscaler Internet Access Cloud NSS Web Log Push Connector. You can get Zscaler Internet Access Cloud NSS Web Log Push Connector data in your Microsoft Sentinel workspace. After installing the solution, configure and enable this data connector by following guidance in Manage solution view."
            }
          },
          {
            "name": "dataconnectors-link1",
            "type": "Microsoft.Common.TextBlock",
            "options": {
              "link": {
                "label": "Learn more about connecting data sources",
                "uri": "https://docs.microsoft.com/azure/sentinel/connect-data-sources"
              }
            }
          },
          {
            "name": "dataconnectors2-text",
            "type": "Microsoft.Common.TextBlock",
            "options": {
              "text": "This Solution installs the data connector for Zscaler Internet Access Cloud NSS Firewall Log Push Connector. You can get Zscaler Internet Access Cloud NSS Firewall Log Push Connector data in your Microsoft Sentinel workspace. After installing the solution, configure and enable this data connector by following guidance in Manage solution view."
            }
          },
          {
            "name": "dataconnectors-link2",
            "type": "Microsoft.Common.TextBlock",
            "options": {
              "link": {
                "label": "Learn more about connecting data sources",
                "uri": "https://docs.microsoft.com/azure/sentinel/connect-data-sources"
              }
            }
          },
          {
            "name": "dataconnectors3-text",
            "type": "Microsoft.Common.TextBlock",
            "options": {
              "text": "This Solution installs the data connector for Zscaler Internet Access Cloud NSS DNS Log Push Connector. You can get Zscaler Internet Access Cloud NSS DNS Log Push Connector data in your Microsoft Sentinel workspace. After installing the solution, configure and enable this data connector by following guidance in Manage solution view."
            }
          },
          {
            "name": "dataconnectors-link3",
            "type": "Microsoft.Common.TextBlock",
            "options": {
              "link": {
                "label": "Learn more about connecting data sources",
                "uri": "https://docs.microsoft.com/azure/sentinel/connect-data-sources"
              }
            }
          },
          {
            "name": "dataconnectors4-text",
            "type": "Microsoft.Common.TextBlock",
            "options": {
              "text": "This Solution installs the data connector for Zscaler Internet Access Cloud NSS Tunnel Log Push Connector. You can get Zscaler Internet Access Cloud NSS Tunnel Log Push Connector data in your Microsoft Sentinel workspace. After installing the solution, configure and enable this data connector by following guidance in Manage solution view."
            }
          },
          {
            "name": "dataconnectors-link4",
            "type": "Microsoft.Common.TextBlock",
            "options": {
              "link": {
                "label": "Learn more about connecting data sources",
                "uri": "https://docs.microsoft.com/azure/sentinel/connect-data-sources"
              }
            }
          },
          {
            "name": "dataconnectors5-text",
            "type": "Microsoft.Common.TextBlock",
            "options": {
              "text": "This Solution installs the data connector for Zscaler Internet Access Cloud NSS Endpoint DLP Log Push Connector. You can get Zscaler Internet Access Cloud NSS Endpoint DLP Log Push Connector data in your Microsoft Sentinel workspace. After installing the solution, configure and enable this data connector by following guidance in Manage solution view."
            }
          },
          {
            "name": "dataconnectors-link5",
            "type": "Microsoft.Common.TextBlock",
            "options": {
              "link": {
                "label": "Learn more about connecting data sources",
                "uri": "https://docs.microsoft.com/azure/sentinel/connect-data-sources"
              }
            }
          },
          {
            "name": "dataconnectors6-text",
            "type": "Microsoft.Common.TextBlock",
            "options": {
              "text": "This Solution installs the data connector for Zscaler Internet Access Cloud NSS Email DLP Log Push Connector. You can get Zscaler Internet Access Cloud NSS Email DLP Log Push Connector data in your Microsoft Sentinel workspace. After installing the solution, configure and enable this data connector by following guidance in Manage solution view."
            }
          },
          {
            "name": "dataconnectors-link6",
            "type": "Microsoft.Common.TextBlock",
            "options": {
              "link": {
                "label": "Learn more about connecting data sources",
                "uri": "https://docs.microsoft.com/azure/sentinel/connect-data-sources"
              }
            }
          },
          {
            "name": "dataconnectors7-text",
            "type": "Microsoft.Common.TextBlock",
            "options": {
              "text": "This Solution installs the data connector for Zscaler Internet Access Cloud NSS CASB Repo Log Push Connector. You can get Zscaler Internet Access Cloud NSS CASB Repo Log Push Connector data in your Microsoft Sentinel workspace. After installing the solution, configure and enable this data connector by following guidance in Manage solution view."
            }
          },
          {
            "name": "dataconnectors-link7",
            "type": "Microsoft.Common.TextBlock",
            "options": {
              "link": {
                "label": "Learn more about connecting data sources",
                "uri": "https://docs.microsoft.com/azure/sentinel/connect-data-sources"
              }
            }
          },
          {
            "name": "dataconnectors8-text",
            "type": "Microsoft.Common.TextBlock",
            "options": {
              "text": "This Solution installs the data connector for Zscaler Internet Access Cloud NSS CASB ITSM Log Push Connector. You can get Zscaler Internet Access Cloud NSS CASB ITSM Log Push Connector data in your Microsoft Sentinel workspace. After installing the solution, configure and enable this data connector by following guidance in Manage solution view."
            }
          },
          {
            "name": "dataconnectors-link8",
            "type": "Microsoft.Common.TextBlock",
            "options": {
              "link": {
                "label": "Learn more about connecting data sources",
                "uri": "https://docs.microsoft.com/azure/sentinel/connect-data-sources"
              }
            }
          },
          {
            "name": "dataconnectors9-text",
            "type": "Microsoft.Common.TextBlock",
            "options": {
              "text": "This Solution installs the data connector for Zscaler Internet Access Cloud NSS CASB File Sharing Log Push Connector. You can get Zscaler Internet Access Cloud NSS CASB File Sharing Log Push Connector data in your Microsoft Sentinel workspace. After installing the solution, configure and enable this data connector by following guidance in Manage solution view."
            }
          },
          {
            "name": "dataconnectors-link9",
            "type": "Microsoft.Common.TextBlock",
            "options": {
              "link": {
                "label": "Learn more about connecting data sources",
                "uri": "https://docs.microsoft.com/azure/sentinel/connect-data-sources"
              }
            }
          },
          {
            "name": "dataconnectors10-text",
            "type": "Microsoft.Common.TextBlock",
            "options": {
              "text": "This Solution installs the data connector for Zscaler Internet Access Cloud NSS CASB Email Log Push Connector. You can get Zscaler Internet Access Cloud NSS CASB Email Log Push Connector data in your Microsoft Sentinel workspace. After installing the solution, configure and enable this data connector by following guidance in Manage solution view."
            }
          },
          {
            "name": "dataconnectors-link10",
            "type": "Microsoft.Common.TextBlock",
            "options": {
              "link": {
                "label": "Learn more about connecting data sources",
                "uri": "https://docs.microsoft.com/azure/sentinel/connect-data-sources"
              }
            }
          },
          {
            "name": "dataconnectors11-text",
            "type": "Microsoft.Common.TextBlock",
            "options": {
              "text": "This Solution installs the data connector for Zscaler Internet Access Cloud NSS CASB CRM Log Push Connector. You can get Zscaler Internet Access Cloud NSS CASB CRM Log Push Connector data in your Microsoft Sentinel workspace. After installing the solution, configure and enable this data connector by following guidance in Manage solution view."
            }
          },
          {
            "name": "dataconnectors-link11",
            "type": "Microsoft.Common.TextBlock",
            "options": {
              "link": {
                "label": "Learn more about connecting data sources",
                "uri": "https://docs.microsoft.com/azure/sentinel/connect-data-sources"
              }
            }
          },
          {
            "name": "dataconnectors12-text",
            "type": "Microsoft.Common.TextBlock",
            "options": {
              "text": "This Solution installs the data connector for Zscaler Internet Access Cloud NSS CASB Collaboration Log Push Connector. You can get Zscaler Internet Access Cloud NSS CASB Collaboration Log Push Connector data in your Microsoft Sentinel workspace. After installing the solution, configure and enable this data connector by following guidance in Manage solution view."
            }
          },
          {
            "name": "dataconnectors-link12",
            "type": "Microsoft.Common.TextBlock",
            "options": {
              "link": {
                "label": "Learn more about connecting data sources",
                "uri": "https://docs.microsoft.com/azure/sentinel/connect-data-sources"
              }
            }
          },
          {
            "name": "dataconnectors13-text",
            "type": "Microsoft.Common.TextBlock",
            "options": {
              "text": "This Solution installs the data connector for Zscaler Internet Access Cloud NSS CASB Cloud Storage Log Push Connector. You can get Zscaler Internet Access Cloud NSS CASB Cloud Storage Log Push Connector data in your Microsoft Sentinel workspace. After installing the solution, configure and enable this data connector by following guidance in Manage solution view."
            }
          },
          {
            "name": "dataconnectors-link13",
            "type": "Microsoft.Common.TextBlock",
            "options": {
              "link": {
                "label": "Learn more about connecting data sources",
                "uri": "https://docs.microsoft.com/azure/sentinel/connect-data-sources"
              }
            }
          },
          {
            "name": "dataconnectors14-text",
            "type": "Microsoft.Common.TextBlock",
            "options": {
              "text": "This Solution installs the data connector for Zscaler Internet Access Cloud NSS CASB Activity Log Push Connector. You can get Zscaler Internet Access Cloud NSS CASB Activity Log Push Connector data in your Microsoft Sentinel workspace. After installing the solution, configure and enable this data connector by following guidance in Manage solution view."
            }
          },
          {
            "name": "dataconnectors-link14",
            "type": "Microsoft.Common.TextBlock",
            "options": {
              "link": {
                "label": "Learn more about connecting data sources",
                "uri": "https://docs.microsoft.com/azure/sentinel/connect-data-sources"
              }
            }
          },
          {
            "name": "dataconnectors15-text",
            "type": "Microsoft.Common.TextBlock",
            "options": {
              "text": "This Solution installs the data connector for Zscaler Internet Access Cloud NSS Audit Log Push Connector. You can get Zscaler Internet Access Cloud NSS Audit Log Push Connector data in your Microsoft Sentinel workspace. After installing the solution, configure and enable this data connector by following guidance in Manage solution view."
            }
          },
          {
            "name": "dataconnectors-link15",
            "type": "Microsoft.Common.TextBlock",
            "options": {
              "link": {
                "label": "Learn more about connecting data sources",
                "uri": "https://docs.microsoft.com/azure/sentinel/connect-data-sources"
              }
            }
          }
        ]
      },
      {
        "name": "workbooks",
        "label": "Workbooks",
        "subLabel": {
          "preValidation": "Configure the workbooks",
          "postValidation": "Done"
        },
        "bladeTitle": "Workbooks",
        "elements": [
          {
            "name": "workbooks-text",
            "type": "Microsoft.Common.TextBlock",
            "options": {
              "text": "This solution installs workbook(s) to help you gain insights into the telemetry collected in Microsoft Sentinel. After installing the solution, start using the workbook in Manage solution view."
            }
          },
          {
            "name": "workbooks-link",
            "type": "Microsoft.Common.TextBlock",
            "options": {
              "link": {
                "label": "Learn more",
                "uri": "https://docs.microsoft.com/azure/sentinel/tutorial-monitor-your-data"
              }
            }
          },
          {
            "name": "workbook1",
            "type": "Microsoft.Common.Section",
            "label": "Zscaler Web Overview",
            "elements": [
              {
                "name": "workbook1-text",
                "type": "Microsoft.Common.TextBlock",
                "options": {
                  "text": "Gain insights into your ZIA web logs by connecting to Microsoft Sentinel.\nThe Zscaler web overview workbook provides a bird's eye view and ability to drill down into all the security and networking events related to web transactions, types of devices, and bandwidth consumption."
                }
              }
            ]
          },
          {
            "name": "workbook2",
            "type": "Microsoft.Common.Section",
            "label": "Zscaler Threats",
            "elements": [
              {
                "name": "workbook2-text",
                "type": "Microsoft.Common.TextBlock",
                "options": {
                  "text": "Gain insights into threats blocked by Zscaler Internet access on your network.\nThe Zscaler threat overview workbook shows your entire threat landscape including blocked malware, IPS/AV rules, and blocked cloud apps. Threats are displayed by threat categories, filetypes, inbound vs outbound threats, usernames, user location, and more."
                }
              }
            ]
          },
          {
            "name": "workbook3",
            "type": "Microsoft.Common.Section",
            "label": "Zscaler Office365 Apps",
            "elements": [
              {
                "name": "workbook3-text",
                "type": "Microsoft.Common.TextBlock",
                "options": {
                  "text": "Gain insights into Office 365 use on your network.\nThe Zscaler Office 365 overview workbook shows you the Microsoft apps running on your network and their individual bandwidth consumption. It also helps identify phishing attempts in which attackers disguised themselves as Microsoft services."
                }
              }
            ]
          },
          {
            "name": "workbook4",
            "type": "Microsoft.Common.Section",
            "label": "Zscaler Firewall",
            "elements": [
              {
                "name": "workbook4-text",
                "type": "Microsoft.Common.TextBlock",
                "options": {
                  "text": "Gain insights into your ZIA cloud firewall logs by connecting to Microsoft Sentinel.\nThe Zscaler firewall overview workbook provides an overview and ability to drill down into all cloud firewall activity in your Zscaler instance including non-web related networking events, security events, firewall rules, and bandwidth consumption"
                }
              }
            ]
          },
          {
            "name": "workbook5",
            "type": "Microsoft.Common.Section",
            "label": "Zscaler DNS Logs",
            "elements": [
              {
                "name": "workbook5-text",
                "type": "Microsoft.Common.TextBlock",
                "options": {
                  "text": "Gain insights into Zscaler DNS logs by connecting to Microsoft Sentinel.\nThis workbook provides visibility into DNS query activity, blocked domains, and DNS-based security events across your Zscaler ZIA deployment."
                }
              }
            ]
          },
          {
            "name": "workbook6",
            "type": "Microsoft.Common.Section",
            "label": "Zscaler Tunnel Logs",
            "elements": [
              {
                "name": "workbook6-text",
                "type": "Microsoft.Common.TextBlock",
                "options": {
                  "text": "Gain insights into Zscaler tunnel logs by connecting to Microsoft Sentinel.\nThis workbook provides visibility into VPN tunnel activity, connection states, and tunnel health across your Zscaler ZIA deployment."
                }
              }
            ]
          },
          {
            "name": "workbook7",
            "type": "Microsoft.Common.Section",
            "label": "Zscaler Endpoint DLP Logs",
            "elements": [
              {
                "name": "workbook7-text",
                "type": "Microsoft.Common.TextBlock",
                "options": {
                  "text": "Gain insights into Zscaler Endpoint DLP logs by connecting to Microsoft Sentinel.\nThis workbook provides visibility into endpoint data loss prevention events, policy violations, and sensitive data handling across your organization."
                }
              }
            ]
          },
          {
            "name": "workbook8",
            "type": "Microsoft.Common.Section",
            "label": "Zscaler Email DLP Logs",
            "elements": [
              {
                "name": "workbook8-text",
                "type": "Microsoft.Common.TextBlock",
                "options": {
                  "text": "Gain insights into Zscaler Email DLP logs by connecting to Microsoft Sentinel.\nThis workbook provides visibility into email data loss prevention events, policy violations, and sensitive data in email communications."
                }
              }
            ]
          },
          {
            "name": "workbook9",
            "type": "Microsoft.Common.Section",
            "label": "Zscaler CASB Activity Logs",
            "elements": [
              {
                "name": "workbook9-text",
                "type": "Microsoft.Common.TextBlock",
                "options": {
                  "text": "Gain insights into Zscaler CASB Activity logs by connecting to Microsoft Sentinel.\nThis workbook provides visibility into Cloud Access Security Broker events, user activities, and security events across sanctioned cloud applications."
                }
              }
            ]
          },
          {
            "name": "workbook10",
            "type": "Microsoft.Common.Section",
            "label": "Zscaler CASB Cloud Storage Logs",
            "elements": [
              {
                "name": "workbook10-text",
                "type": "Microsoft.Common.TextBlock",
                "options": {
                  "text": "Gain insights into Zscaler CASB Cloud Storage logs by connecting to Microsoft Sentinel.\nThis workbook provides visibility into cloud storage activities, file operations, and data sharing events across cloud storage services."
                }
              }
            ]
          },
          {
            "name": "workbook11",
            "type": "Microsoft.Common.Section",
            "label": "Zscaler CASB Collaboration Logs",
            "elements": [
              {
                "name": "workbook11-text",
                "type": "Microsoft.Common.TextBlock",
                "options": {
                  "text": "Gain insights into Zscaler CASB Collaboration logs by connecting to Microsoft Sentinel.\nThis workbook provides visibility into collaboration application activities, document sharing, and team communication events."
                }
              }
            ]
          },
          {
            "name": "workbook12",
            "type": "Microsoft.Common.Section",
            "label": "Zscaler CASB CRM Logs",
            "elements": [
              {
                "name": "workbook12-text",
                "type": "Microsoft.Common.TextBlock",
                "options": {
                  "text": "Gain insights into Zscaler CASB CRM logs by connecting to Microsoft Sentinel.\nThis workbook provides visibility into CRM application activities, customer data access, and business-critical operations."
                }
              }
            ]
          },
          {
            "name": "workbook13",
            "type": "Microsoft.Common.Section",
            "label": "Zscaler CASB Email Logs",
            "elements": [
              {
                "name": "workbook13-text",
                "type": "Microsoft.Common.TextBlock",
                "options": {
                  "text": "Gain insights into Zscaler CASB Email logs by connecting to Microsoft Sentinel.\nThis workbook provides visibility into email application activities, message events, and email security across cloud email platforms."
                }
              }
            ]
          },
          {
            "name": "workbook14",
            "type": "Microsoft.Common.Section",
            "label": "Zscaler CASB File Sharing Logs",
            "elements": [
              {
                "name": "workbook14-text",
                "type": "Microsoft.Common.TextBlock",
                "options": {
                  "text": "Gain insights into Zscaler CASB File Sharing logs by connecting to Microsoft Sentinel.\nThis workbook provides visibility into file sharing activities, external sharing events, and data exposure risks across file sharing services."
                }
              }
            ]
          },
          {
            "name": "workbook15",
            "type": "Microsoft.Common.Section",
            "label": "Zscaler CASB ITSM Logs",
            "elements": [
              {
                "name": "workbook15-text",
                "type": "Microsoft.Common.TextBlock",
                "options": {
                  "text": "Gain insights into Zscaler CASB ITSM logs by connecting to Microsoft Sentinel.\nThis workbook provides visibility into IT Service Management application activities, ticket operations, and service desk events."
                }
              }
            ]
          },
          {
            "name": "workbook16",
            "type": "Microsoft.Common.Section",
            "label": "Zscaler CASB Repository Logs",
            "elements": [
              {
                "name": "workbook16-text",
                "type": "Microsoft.Common.TextBlock",
                "options": {
                  "text": "Gain insights into Zscaler CASB Repository logs by connecting to Microsoft Sentinel.\nThis workbook provides visibility into code repository activities, commit operations, and source code management events."
                }
              }
            ]
          },
          {
            "name": "workbook17",
            "type": "Microsoft.Common.Section",
            "label": "Zscaler Audit Logs",
            "elements": [
              {
                "name": "workbook17-text",
                "type": "Microsoft.Common.TextBlock",
                "options": {
                  "text": "Gain insights into Zscaler Admin Audit logs by connecting to Microsoft Sentinel.\nThis workbook provides visibility into administrative actions, login attempts, configuration changes, and user management events in your Zscaler ZIA portal."
                }
              }
            ]
          }
        ]
      },
      {
        "name": "playbooks",
        "label": "Playbooks",
        "subLabel": {
          "preValidation": "Configure the playbooks",
          "postValidation": "Done"
        },
        "bladeTitle": "Playbooks",
        "elements": [
          {
            "name": "playbooks-text",
            "type": "Microsoft.Common.TextBlock",
            "options": {
              "text": "This solution installs the Playbook templates to help implement your Security Orchestration, Automation and Response (SOAR) operations. After installing the solution, these will be deployed under Playbook Templates in the Automation blade in Microsoft Sentinel. They can be configured and managed from the Manage solution view in Content Hub."
            }
          },
          {
            "name": "playbooks-link",
            "type": "Microsoft.Common.TextBlock",
            "options": {
              "link": {
                "label": "Learn more",
                "uri": "https://docs.microsoft.com/azure/sentinel/tutorial-respond-threats-playbook?WT.mc_id=Portal-Microsoft_Azure_CreateUIDef"
              }
            }
          }
        ]
      }
    ],
    "outputs": {
      "workspace-location": "[first(map(filter(basics('getLAWorkspace').value, (filter) => and(contains(toLower(filter.id), toLower(resourceGroup().name)),equals(filter.name,basics('workspace')))), (item) => item.location))]",
      "location": "[location()]",
      "workspace": "[basics('workspace')]"
    }
  }
}
