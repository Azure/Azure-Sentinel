{
    "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
    "contentVersion": "1.0.0.0",
    "parameters": {
        "workspaceName": {
            "type": "string",
            "metadata": {
                "description": "Name of the Log Analytics Workspace"
            }
        }
    },
    "resources": [
        {
            "name": "[concat(parameters('workspaceName'), '/Microsoft.SecurityInsights/vone_settings')]",
            "type": "Microsoft.OperationalInsights/workspaces/providers/Watchlists",
            "properties": {
                "displayName": "VONE Settings",
                "watchlistAlias": "vone_settings",
                "source": "vone_settings.csv",
                "description": "This watchlist lists Veeam ONE servers and a flag that controls event collection. To add a server, specify Veeam Server Name and Base URL. Then run the Veeam-SetupConnections Playbook. The playbook sets the collection flag to true and creates keyVaultIds if they are empty. Otherwise, it uses the values you provide to configure Hybrid Connections and Key Vault secrets.",
                "provider": "Custom",
                "isDeleted": false,
                "defaultDuration": "P1000Y",
                "contentType": "Text/Csv",
                "numberOfLinesToSkip": 0,
                "itemsSearchKey": "Veeam Server Name",
                "rawContent": "Veeam Server Name,Base URL,Collect Alarms,Key Vault Username ID,Key Vault Password ID\r\nExampleServerName,https://ExampleServerName.domain.example:1239,true,ExampleServerNameUsername,ExampleServerNamePassword\r\n"
            },
            "apiVersion": "2022-08-01"
        }
    ]
}