# Lumen Defender Threat Feed Connector - Azure Durable Functions

## Overview

This Azure Functions data connector uploads threat intelligence indicators generated by Black Lotus Labs to Microsoft Sentinel.

## What It Does

The connector automatically:

- Downloads latest list of STIX-formatted ipv4 and domain threat intelligence indicators from Lumen Reputation API on a daily schedule.
- Stores threat intel data to blob storage for processing.
- Chunks are uploaded from blob storage to the Microsoft Sentinel `ThreatIntelIndicators` table via the [STIX Object Upload API](https://learn.microsoft.com/en-us/azure/sentinel/stix-objects-api).
- Temp files in blob storage are cleaned up after upload is complete.

## Requirements

- Azure Functions runtime v4 (`FUNCTIONS_EXTENSION_VERSION=~4`)
- Python 3.11 (`linuxFxVersion: Python|3.11`)
- Durable Functions extension (`azure-functions-durable`)

## Usage

- Upload runs on a cron schedule (default `0 0 8 * * *`).
- The orchestration will process all indicators in batches, avoiding timeouts.

## Support

For technical issues or questions about this connector:

- **Lumen API access**: Contact Lumen support
- **Azure configuration**: Contact your system administrator
- **Connector functionality**: Review Azure Functions logs in the Azure portal

---

*This connector requires active Lumen Reputation API access and Microsoft Sentinel workspace permissions.*
