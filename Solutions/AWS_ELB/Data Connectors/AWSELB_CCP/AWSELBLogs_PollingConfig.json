{
    "name": "AwsELBAccessLogsPollingConfigALB",
    "apiVersion": "2025-03-01",
    "type": "Microsoft.SecurityInsights/dataConnectors",
    "location": "{{location}}",
    "kind": "AmazonWebServicesS3",
    "properties": {
      "connectorDefinitionName": "AwsELBLogsDefinition",
      "dataTypes": {
        "logs": {
          "state": "enabled"
        }
      },
      "dcrConfig": {
        "streamName": "Custom-AWSALBAccessLogsStream",
        "dataCollectionEndpoint": "{{dataCollectionEndpoint}}",
        "dataCollectionRuleImmutableId": "{{dataCollectionRuleImmutableId}}"
      },
      "destinationTable": "AWSALBAccessLogs_CL",
      "dataFormat": {
        "Format": "csv",
        "CsvDelimiter": " ",
        "IsCompressed": false,
        "compressType": "None",
        "HasCsvHeader": false
      },
      "roleArn": "{{roleArn}}",
      "sqsUrls": [
        "{{queueUrl}}"
      ]
    }
}