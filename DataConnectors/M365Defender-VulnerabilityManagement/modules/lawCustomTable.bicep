param LawName string
param TableName string
param Plan string
param Columns array
param Retention int = -1

resource logAnalyticsWorkspace 'Microsoft.OperationalInsights/workspaces@2022-10-01' existing = {
  name: LawName
}

resource table 'Microsoft.OperationalInsights/workspaces/tables@2022-10-01' = {
  parent: logAnalyticsWorkspace
  name: TableName
  properties: {
    schema: {
      name: TableName
      columns: Columns
    }
    plan: Plan
    retentionInDays: Retention != -1 ? Retention : null
  }
}
